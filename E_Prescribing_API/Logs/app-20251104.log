2025-11-04T11:13:56.1145590+02:00  [INF] User profile is available. Using '"C:\Users\ThatoTs\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2025-11-04T11:13:56.5395657+02:00  [INF] Now listening on: "https://localhost:7150" (d826f4b8)
2025-11-04T11:13:56.5427164+02:00  [INF] Now listening on: "http://localhost:5031" (d826f4b8)
2025-11-04T11:18:12.9825158+02:00  [INF] User profile is available. Using '"C:\Users\ThatoTs\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2025-11-04T11:18:13.3911313+02:00  [INF] Now listening on: "https://localhost:7150" (d826f4b8)
2025-11-04T11:18:13.3938804+02:00  [INF] Now listening on: "http://localhost:5031" (d826f4b8)
2025-11-04T11:18:13.4668505+02:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2025-11-04T11:18:13.4708738+02:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2025-11-04T11:18:13.4742350+02:00  [INF] Content root path: "D:\HomeSpace\E_Prescribing_API\E_Prescribing_API" (cc26f24e)
2025-11-04T11:18:16.7945269+02:00 0HNGRGCADOSAB:00000003 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger""" - null null (d509f86a)
2025-11-04T11:18:17.0335762+02:00 0HNGRGCADOSAB:00000003 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger""" - 301 0 null 248.2831ms (74253ad3)
2025-11-04T11:18:17.0745388+02:00 0HNGRGCADOSAB:00000005 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/index.html""" - null null (d509f86a)
2025-11-04T11:18:17.2142483+02:00 0HNGRGCADOSAB:00000005 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 139.736ms (74253ad3)
2025-11-04T11:18:17.3034851+02:00 0HNGRGCADOSAB:00000007 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/_framework/aspnetcore-browser-refresh.js""" - null null (d509f86a)
2025-11-04T11:18:17.3145622+02:00 0HNGRGCADOSAB:00000007 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/_framework/aspnetcore-browser-refresh.js""" - 200 13770 "application/javascript; charset=utf-8" 11.131ms (74253ad3)
2025-11-04T11:18:17.3421367+02:00 0HNGRGCADOSAB:00000009 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/_vs/browserLink""" - null null (d509f86a)
2025-11-04T11:18:17.4251448+02:00 0HNGRGCADOSAB:00000009 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 83.3656ms (74253ad3)
2025-11-04T11:18:17.6592096+02:00 0HNGRGCADOSAB:0000000B [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/v1/swagger.json""" - null null (d509f86a)
2025-11-04T11:18:17.8420122+02:00 0HNGRGCADOSAB:0000000B [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 182.8894ms (74253ad3)
2025-11-04T11:19:03.0855357+02:00 0HNGRGCADOSAB:0000000D [INF] Request starting "HTTP/2" "POST" "https"://"localhost:7150""""/api/Account/Login""" - "application/json" 58 (d509f86a)
2025-11-04T11:19:03.0937721+02:00 0HNGRGCADOSAB:0000000D [INF] Executing endpoint '"E_Prescribing_API.Controllers.AccountController.Login (E_Prescribing_API)"' (500cc934)
2025-11-04T11:19:03.1206614+02:00 0HNGRGCADOSAB:0000000D [INF] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(E_Prescribing_API.CollectionModel.LoginCollection)" on controller "E_Prescribing_API.Controllers.AccountController" ("E_Prescribing_API"). (122b2fdf)
2025-11-04T11:19:04.8478037+02:00 0HNGRGCADOSAB:0000000D [INF] Executed DbCommand ("68"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2025-11-04T11:19:05.1404961+02:00 0HNGRGCADOSAB:0000000D [INF] Executed DbCommand ("10"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0" (0723d8ff)
2025-11-04T11:19:05.2849330+02:00 0HNGRGCADOSAB:0000000D [INF] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`3[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], E_Prescribing_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2025-11-04T11:19:05.3042704+02:00 0HNGRGCADOSAB:0000000D [INF] Executed action "E_Prescribing_API.Controllers.AccountController.Login (E_Prescribing_API)" in 2179.0211ms (afa2e885)
2025-11-04T11:19:05.3048843+02:00 0HNGRGCADOSAB:0000000D [INF] Executed endpoint '"E_Prescribing_API.Controllers.AccountController.Login (E_Prescribing_API)"' (99874f2b)
2025-11-04T11:19:05.3150782+02:00 0HNGRGCADOSAB:0000000D [INF] Request finished "HTTP/2" "POST" "https"://"localhost:7150""""/api/Account/Login""" - 200 null "application/json; charset=utf-8" 2230.1091ms (74253ad3)
2025-11-04T11:41:47.5938579+02:00  [INF] User profile is available. Using '"C:\Users\ThatoTs\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2025-11-04T11:41:47.8763989+02:00  [INF] Now listening on: "https://localhost:7150" (d826f4b8)
2025-11-04T11:41:47.8782576+02:00  [INF] Now listening on: "http://localhost:5031" (d826f4b8)
2025-11-04T11:41:47.9389667+02:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2025-11-04T11:41:47.9413805+02:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2025-11-04T11:41:47.9431615+02:00  [INF] Content root path: "D:\HomeSpace\E_Prescribing_API\E_Prescribing_API" (cc26f24e)
2025-11-04T11:41:50.1541760+02:00 0HNGRGPFVTUNN:00000003 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger""" - null null (d509f86a)
2025-11-04T11:41:50.6333327+02:00 0HNGRGPFVTUNN:00000003 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger""" - 301 0 null 489.2309ms (74253ad3)
2025-11-04T11:41:50.6770616+02:00 0HNGRGPFVTUNN:00000005 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/index.html""" - null null (d509f86a)
2025-11-04T11:41:50.9076932+02:00 0HNGRGPFVTUNN:00000005 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 230.8032ms (74253ad3)
2025-11-04T11:41:50.9664781+02:00 0HNGRGPFVTUNN:00000007 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/_framework/aspnetcore-browser-refresh.js""" - null null (d509f86a)
2025-11-04T11:41:50.9747835+02:00 0HNGRGPFVTUNN:00000009 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/swagger-ui.css""" - null null (d509f86a)
2025-11-04T11:41:50.9816772+02:00 0HNGRGPFVTUNN:00000007 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/_framework/aspnetcore-browser-refresh.js""" - 200 13770 "application/javascript; charset=utf-8" 19.1489ms (74253ad3)
2025-11-04T11:41:51.0159939+02:00 0HNGRGPFVTUNN:0000000B [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/_vs/browserLink""" - null null (d509f86a)
2025-11-04T11:41:51.0496297+02:00 0HNGRGPFVTUNN:00000009 [INF] Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"' (27b0a520)
2025-11-04T11:41:51.0500105+02:00 0HNGRGPFVTUNN:00000009 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/swagger-ui.css""" - 499 152034 "text/css" 76.3607ms (74253ad3)
2025-11-04T11:41:51.2640034+02:00 0HNGRGPFVTUNN:0000000B [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 278.895ms (74253ad3)
2025-11-04T11:41:51.3853872+02:00 0HNGRGPFVTUNN:0000000D [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/favicon-16x16.png""" - null null (d509f86a)
2025-11-04T11:41:51.3908047+02:00 0HNGRGPFVTUNN:0000000D [INF] Sending file. Request path: '"/favicon-16x16.png"'. Physical path: '"N/A"' (27b0a520)
2025-11-04T11:41:51.3922962+02:00 0HNGRGPFVTUNN:0000000D [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/favicon-16x16.png""" - 499 665 "image/png" 5.9479ms (74253ad3)
2025-11-04T11:41:51.6237163+02:00 0HNGRGPFVTUNN:0000000F [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/v1/swagger.json""" - null null (d509f86a)
2025-11-04T11:41:51.9360430+02:00 0HNGRGPFVTUNN:0000000F [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 312.4356ms (74253ad3)
2025-11-04T11:43:52.9053249+02:00 0HNGRGPFVTUNN:00000011 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/api/Landing/GetNurse""" - null null (d509f86a)
2025-11-04T11:43:52.9191915+02:00 0HNGRGPFVTUNN:00000011 [INF] Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Nurse)" (92d7f7d3)
2025-11-04T11:43:52.9221301+02:00 0HNGRGPFVTUNN:00000011 [INF] AuthenticationScheme: "Identity.Bearer" was challenged. (d45f1f38)
2025-11-04T11:43:52.9224256+02:00 0HNGRGPFVTUNN:00000011 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/api/Landing/GetNurse""" - 401 0 null 17.3086ms (74253ad3)
2025-11-04T11:45:31.3461636+02:00 0HNGRGPFVTUNN:00000013 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/api/Landing/GetNurse""" - null null (d509f86a)
2025-11-04T11:45:31.3549684+02:00 0HNGRGPFVTUNN:00000013 [INF] Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Nurse)" (92d7f7d3)
2025-11-04T11:45:31.3554945+02:00 0HNGRGPFVTUNN:00000013 [INF] AuthenticationScheme: "Identity.Bearer" was challenged. (d45f1f38)
2025-11-04T11:45:31.3556755+02:00 0HNGRGPFVTUNN:00000013 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/api/Landing/GetNurse""" - 401 0 null 9.6904ms (74253ad3)
2025-11-04T11:46:37.8044007+02:00 0HNGRGPFVTUNN:00000015 [INF] Request starting "HTTP/2" "POST" "https"://"localhost:7150""""/api/Account/Login""" - "application/json" 58 (d509f86a)
2025-11-04T11:46:37.8108083+02:00 0HNGRGPFVTUNN:00000015 [INF] Executing endpoint '"E_Prescribing_API.Controllers.AccountController.Login (E_Prescribing_API)"' (500cc934)
2025-11-04T11:46:37.8465449+02:00 0HNGRGPFVTUNN:00000015 [INF] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(E_Prescribing_API.CollectionModel.LoginCollection)" on controller "E_Prescribing_API.Controllers.AccountController" ("E_Prescribing_API"). (122b2fdf)
2025-11-04T11:46:40.4885418+02:00 0HNGRGPFVTUNN:00000015 [INF] Executed DbCommand ("129"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2025-11-04T11:46:40.9032998+02:00 0HNGRGPFVTUNN:00000015 [INF] Executed DbCommand ("16"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0" (0723d8ff)
2025-11-04T11:46:41.1000031+02:00 0HNGRGPFVTUNN:00000015 [INF] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`3[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], E_Prescribing_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2025-11-04T11:46:41.1181103+02:00 0HNGRGPFVTUNN:00000015 [INF] Executed action "E_Prescribing_API.Controllers.AccountController.Login (E_Prescribing_API)" in 3267.1596ms (afa2e885)
2025-11-04T11:46:41.1186119+02:00 0HNGRGPFVTUNN:00000015 [INF] Executed endpoint '"E_Prescribing_API.Controllers.AccountController.Login (E_Prescribing_API)"' (99874f2b)
2025-11-04T11:46:41.1296420+02:00 0HNGRGPFVTUNN:00000015 [INF] Request finished "HTTP/2" "POST" "https"://"localhost:7150""""/api/Account/Login""" - 200 null "application/json; charset=utf-8" 3328.3428ms (74253ad3)
2025-11-04T11:47:01.9994065+02:00 0HNGRGPFVTUNN:00000017 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/api/Landing/GetNurse""" - null null (d509f86a)
2025-11-04T11:47:02.0018774+02:00 0HNGRGPFVTUNN:00000017 [INF] Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Nurse)" (92d7f7d3)
2025-11-04T11:47:02.0021640+02:00 0HNGRGPFVTUNN:00000017 [INF] AuthenticationScheme: "Identity.Bearer" was challenged. (d45f1f38)
2025-11-04T11:47:02.0023303+02:00 0HNGRGPFVTUNN:00000017 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/api/Landing/GetNurse""" - 401 0 null 3.2168ms (74253ad3)
2025-11-04T12:33:19.3356967+02:00  [INF] User profile is available. Using '"C:\Users\ThatoTs\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2025-11-04T12:33:19.6701648+02:00  [INF] Now listening on: "https://localhost:7150" (d826f4b8)
2025-11-04T12:33:19.6732912+02:00  [INF] Now listening on: "http://localhost:5031" (d826f4b8)
2025-11-04T12:33:19.7478483+02:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2025-11-04T12:33:19.7520640+02:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2025-11-04T12:33:19.7548400+02:00  [INF] Content root path: "D:\HomeSpace\E_Prescribing_API\E_Prescribing_API" (cc26f24e)
2025-11-04T12:33:22.3027630+02:00 0HNGRHM9CL4N8:00000003 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger""" - null null (d509f86a)
2025-11-04T12:33:22.6382635+02:00 0HNGRHM9CL4N8:00000003 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger""" - 301 0 null 345.1308ms (74253ad3)
2025-11-04T12:33:22.7459227+02:00 0HNGRHM9CL4N8:00000005 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/index.html""" - null null (d509f86a)
2025-11-04T12:33:22.8668685+02:00 0HNGRHM9CL4N8:00000005 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 121.1162ms (74253ad3)
2025-11-04T12:33:22.9138510+02:00 0HNGRHM9CL4N8:00000007 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/_framework/aspnetcore-browser-refresh.js""" - null null (d509f86a)
2025-11-04T12:33:22.9140289+02:00 0HNGRHM9CL4N8:00000009 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/swagger-ui.css""" - null null (d509f86a)
2025-11-04T12:33:22.9164299+02:00 0HNGRHM9CL4N8:0000000B [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/_vs/browserLink""" - null null (d509f86a)
2025-11-04T12:33:22.9305093+02:00 0HNGRHM9CL4N8:00000007 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/_framework/aspnetcore-browser-refresh.js""" - 200 13770 "application/javascript; charset=utf-8" 16.6815ms (74253ad3)
2025-11-04T12:33:22.9548482+02:00 0HNGRHM9CL4N8:00000009 [INF] Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"' (27b0a520)
2025-11-04T12:33:22.9550697+02:00 0HNGRHM9CL4N8:00000009 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/swagger-ui.css""" - 499 152034 "text/css" 41.0873ms (74253ad3)
2025-11-04T12:33:23.0022063+02:00 0HNGRHM9CL4N8:0000000B [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 86.3816ms (74253ad3)
2025-11-04T12:33:23.1081951+02:00 0HNGRHM9CL4N8:0000000D [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/favicon-16x16.png""" - null null (d509f86a)
2025-11-04T12:33:23.1145015+02:00 0HNGRHM9CL4N8:0000000D [INF] Sending file. Request path: '"/favicon-16x16.png"'. Physical path: '"N/A"' (27b0a520)
2025-11-04T12:33:23.1150704+02:00 0HNGRHM9CL4N8:0000000D [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/favicon-16x16.png""" - 499 665 "image/png" 7.5114ms (74253ad3)
2025-11-04T12:33:23.2628582+02:00 0HNGRHM9CL4N8:0000000F [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/v1/swagger.json""" - null null (d509f86a)
2025-11-04T12:33:23.5230329+02:00 0HNGRHM9CL4N8:0000000F [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 260.9371ms (74253ad3)
2025-11-04T12:33:42.1182359+02:00 0HNGRHM9CL4N8:00000011 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/api/Admin/GetUser""" - null null (d509f86a)
2025-11-04T12:33:42.1260915+02:00 0HNGRHM9CL4N8:00000011 [INF] Executing endpoint '"E_Prescribing_API.Controllers.AdminController.GetUser (E_Prescribing_API)"' (500cc934)
2025-11-04T12:33:42.1620748+02:00 0HNGRHM9CL4N8:00000011 [INF] Route matched with "{action = \"GetUser\", controller = \"Admin\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUser()" on controller "E_Prescribing_API.Controllers.AdminController" ("E_Prescribing_API"). (122b2fdf)
2025-11-04T12:33:43.4768144+02:00 0HNGRHM9CL4N8:00000011 [INF] Executed DbCommand ("46"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]" (0723d8ff)
2025-11-04T12:33:43.6794935+02:00 0HNGRHM9CL4N8:00000011 [INF] Executed DbCommand ("27"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0" (0723d8ff)
2025-11-04T12:33:43.7020528+02:00 0HNGRHM9CL4N8:00000011 [INF] Executed DbCommand ("5"ms) [Parameters=["@__user_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [n].[NurseId], [n].[ContactNumber], [n].[EmailAddress], [n].[FullName], [n].[Name], [n].[RegistrationNumber], [n].[Surname], [n].[UserId]
FROM [Nurses] AS [n]
WHERE [n].[UserId] = @__user_Id_0" (0723d8ff)
2025-11-04T12:33:43.7160826+02:00 0HNGRHM9CL4N8:00000011 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0" (0723d8ff)
2025-11-04T12:33:43.7251761+02:00 0HNGRHM9CL4N8:00000011 [INF] Executed DbCommand ("2"ms) [Parameters=["@__user_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [n].[NurseId], [n].[ContactNumber], [n].[EmailAddress], [n].[FullName], [n].[Name], [n].[RegistrationNumber], [n].[Surname], [n].[UserId]
FROM [Nurses] AS [n]
WHERE [n].[UserId] = @__user_Id_0" (0723d8ff)
2025-11-04T12:33:43.7501946+02:00 0HNGRHM9CL4N8:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0" (0723d8ff)
2025-11-04T12:33:43.7530563+02:00 0HNGRHM9CL4N8:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [n].[NurseId], [n].[ContactNumber], [n].[EmailAddress], [n].[FullName], [n].[Name], [n].[RegistrationNumber], [n].[Surname], [n].[UserId]
FROM [Nurses] AS [n]
WHERE [n].[UserId] = @__user_Id_0" (0723d8ff)
2025-11-04T12:33:43.7570249+02:00 0HNGRHM9CL4N8:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0" (0723d8ff)
2025-11-04T12:33:43.7617108+02:00 0HNGRHM9CL4N8:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [n].[NurseId], [n].[ContactNumber], [n].[EmailAddress], [n].[FullName], [n].[Name], [n].[RegistrationNumber], [n].[Surname], [n].[UserId]
FROM [Nurses] AS [n]
WHERE [n].[UserId] = @__user_Id_0" (0723d8ff)
2025-11-04T12:33:43.7657184+02:00 0HNGRHM9CL4N8:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0" (0723d8ff)
2025-11-04T12:33:43.7691814+02:00 0HNGRHM9CL4N8:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0" (0723d8ff)
2025-11-04T12:33:43.7741277+02:00 0HNGRHM9CL4N8:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [n].[NurseId], [n].[ContactNumber], [n].[EmailAddress], [n].[FullName], [n].[Name], [n].[RegistrationNumber], [n].[Surname], [n].[UserId]
FROM [Nurses] AS [n]
WHERE [n].[UserId] = @__user_Id_0" (0723d8ff)
2025-11-04T12:33:43.7791810+02:00 0HNGRHM9CL4N8:00000011 [INF] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (605b4265)
2025-11-04T12:33:43.7902694+02:00 0HNGRHM9CL4N8:00000011 [INF] Executed action "E_Prescribing_API.Controllers.AdminController.GetUser (E_Prescribing_API)" in 1624.8187ms (afa2e885)
2025-11-04T12:33:43.7907846+02:00 0HNGRHM9CL4N8:00000011 [INF] Executed endpoint '"E_Prescribing_API.Controllers.AdminController.GetUser (E_Prescribing_API)"' (99874f2b)
2025-11-04T12:33:43.7976794+02:00 0HNGRHM9CL4N8:00000011 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/api/Admin/GetUser""" - 200 null "application/json; charset=utf-8" 1680.2196ms (74253ad3)
2025-11-04T12:38:46.1325260+02:00  [INF] User profile is available. Using '"C:\Users\ThatoTs\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2025-11-04T12:38:46.5742721+02:00  [INF] Now listening on: "https://localhost:7150" (d826f4b8)
2025-11-04T12:38:46.5770435+02:00  [INF] Now listening on: "http://localhost:5031" (d826f4b8)
2025-11-04T12:38:46.6461770+02:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2025-11-04T12:38:46.6490915+02:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2025-11-04T12:38:46.6512986+02:00  [INF] Content root path: "D:\HomeSpace\E_Prescribing_API\E_Prescribing_API" (cc26f24e)
2025-11-04T12:38:49.7344741+02:00 0HNGRHPAR7949:00000003 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger""" - null null (d509f86a)
2025-11-04T12:38:50.1446621+02:00 0HNGRHPAR7949:00000003 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger""" - 301 0 null 425.157ms (74253ad3)
2025-11-04T12:38:50.2254538+02:00 0HNGRHPAR7949:00000005 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/index.html""" - null null (d509f86a)
2025-11-04T12:38:50.3790674+02:00 0HNGRHPAR7949:00000005 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 154.45ms (74253ad3)
2025-11-04T12:38:50.4314654+02:00 0HNGRHPAR7949:00000007 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/_framework/aspnetcore-browser-refresh.js""" - null null (d509f86a)
2025-11-04T12:38:50.4413370+02:00 0HNGRHPAR7949:00000009 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/swagger-ui.css""" - null null (d509f86a)
2025-11-04T12:38:50.4462417+02:00 0HNGRHPAR7949:0000000B [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/_vs/browserLink""" - null null (d509f86a)
2025-11-04T12:38:50.4463745+02:00 0HNGRHPAR7949:00000007 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/_framework/aspnetcore-browser-refresh.js""" - 200 13770 "application/javascript; charset=utf-8" 15.5251ms (74253ad3)
2025-11-04T12:38:50.4780129+02:00 0HNGRHPAR7949:00000009 [INF] Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"' (27b0a520)
2025-11-04T12:38:50.4782809+02:00 0HNGRHPAR7949:00000009 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/swagger-ui.css""" - 499 152034 "text/css" 37.1974ms (74253ad3)
2025-11-04T12:38:50.5476116+02:00 0HNGRHPAR7949:0000000B [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 101.4567ms (74253ad3)
2025-11-04T12:38:50.7799276+02:00 0HNGRHPAR7949:0000000D [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/favicon-16x16.png""" - null null (d509f86a)
2025-11-04T12:38:50.7823190+02:00 0HNGRHPAR7949:0000000D [INF] Sending file. Request path: '"/favicon-16x16.png"'. Physical path: '"N/A"' (27b0a520)
2025-11-04T12:38:50.7824736+02:00 0HNGRHPAR7949:0000000D [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/favicon-16x16.png""" - 499 665 "image/png" 3.1545ms (74253ad3)
2025-11-04T12:38:50.8117559+02:00 0HNGRHPAR7949:0000000F [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/v1/swagger.json""" - null null (d509f86a)
2025-11-04T12:38:51.0287494+02:00 0HNGRHPAR7949:0000000F [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 217.4731ms (74253ad3)
2025-11-04T12:39:16.3170238+02:00 0HNGRHPAR7949:00000011 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/api/Admin/GetUser""" - null null (d509f86a)
2025-11-04T12:39:16.3250198+02:00 0HNGRHPAR7949:00000011 [INF] Executing endpoint '"E_Prescribing_API.Controllers.AdminController.GetUser (E_Prescribing_API)"' (500cc934)
2025-11-04T12:39:16.3544923+02:00 0HNGRHPAR7949:00000011 [INF] Route matched with "{action = \"GetUser\", controller = \"Admin\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUser()" on controller "E_Prescribing_API.Controllers.AdminController" ("E_Prescribing_API"). (122b2fdf)
2025-11-04T12:39:18.3585628+02:00 0HNGRHPAR7949:00000011 [INF] Executed DbCommand ("75"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]" (0723d8ff)
2025-11-04T12:39:18.7400474+02:00 0HNGRHPAR7949:00000011 [INF] Executed DbCommand ("42"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0" (0723d8ff)
2025-11-04T12:39:18.7700699+02:00 0HNGRHPAR7949:00000011 [INF] Executed DbCommand ("3"ms) [Parameters=["@__user_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [n].[NurseId], [n].[ContactNumber], [n].[EmailAddress], [n].[FullName], [n].[Name], [n].[RegistrationNumber], [n].[Surname], [n].[UserId]
FROM [Nurses] AS [n]
WHERE [n].[UserId] = @__user_Id_0" (0723d8ff)
2025-11-04T12:39:18.7811664+02:00 0HNGRHPAR7949:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0" (0723d8ff)
2025-11-04T12:39:18.7873666+02:00 0HNGRHPAR7949:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [n].[NurseId], [n].[ContactNumber], [n].[EmailAddress], [n].[FullName], [n].[Name], [n].[RegistrationNumber], [n].[Surname], [n].[UserId]
FROM [Nurses] AS [n]
WHERE [n].[UserId] = @__user_Id_0" (0723d8ff)
2025-11-04T12:39:18.8338168+02:00 0HNGRHPAR7949:00000011 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0" (0723d8ff)
2025-11-04T12:39:18.8381830+02:00 0HNGRHPAR7949:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [n].[NurseId], [n].[ContactNumber], [n].[EmailAddress], [n].[FullName], [n].[Name], [n].[RegistrationNumber], [n].[Surname], [n].[UserId]
FROM [Nurses] AS [n]
WHERE [n].[UserId] = @__user_Id_0" (0723d8ff)
2025-11-04T12:39:18.8438153+02:00 0HNGRHPAR7949:00000011 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0" (0723d8ff)
2025-11-04T12:39:18.8489248+02:00 0HNGRHPAR7949:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [n].[NurseId], [n].[ContactNumber], [n].[EmailAddress], [n].[FullName], [n].[Name], [n].[RegistrationNumber], [n].[Surname], [n].[UserId]
FROM [Nurses] AS [n]
WHERE [n].[UserId] = @__user_Id_0" (0723d8ff)
2025-11-04T12:39:18.8565682+02:00 0HNGRHPAR7949:00000011 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0" (0723d8ff)
2025-11-04T12:39:18.8632800+02:00 0HNGRHPAR7949:00000011 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0" (0723d8ff)
2025-11-04T12:39:18.8691115+02:00 0HNGRHPAR7949:00000011 [INF] Executed DbCommand ("2"ms) [Parameters=["@__user_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [n].[NurseId], [n].[ContactNumber], [n].[EmailAddress], [n].[FullName], [n].[Name], [n].[RegistrationNumber], [n].[Surname], [n].[UserId]
FROM [Nurses] AS [n]
WHERE [n].[UserId] = @__user_Id_0" (0723d8ff)
2025-11-04T12:39:18.8773923+02:00 0HNGRHPAR7949:00000011 [INF] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (605b4265)
2025-11-04T12:39:18.8928355+02:00 0HNGRHPAR7949:00000011 [INF] Executed action "E_Prescribing_API.Controllers.AdminController.GetUser (E_Prescribing_API)" in 2532.7533ms (afa2e885)
2025-11-04T12:39:18.8938075+02:00 0HNGRHPAR7949:00000011 [INF] Executed endpoint '"E_Prescribing_API.Controllers.AdminController.GetUser (E_Prescribing_API)"' (99874f2b)
2025-11-04T12:39:18.9041689+02:00 0HNGRHPAR7949:00000011 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/api/Admin/GetUser""" - 200 null "application/json; charset=utf-8" 2587.1807ms (74253ad3)
2025-11-04T12:42:32.0159623+02:00  [INF] User profile is available. Using '"C:\Users\ThatoTs\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2025-11-04T12:42:32.4746780+02:00  [INF] Now listening on: "https://localhost:7150" (d826f4b8)
2025-11-04T12:42:32.4764899+02:00  [INF] Now listening on: "http://localhost:5031" (d826f4b8)
2025-11-04T12:42:32.5423669+02:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2025-11-04T12:42:32.5446956+02:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2025-11-04T12:42:32.5466029+02:00  [INF] Content root path: "D:\HomeSpace\E_Prescribing_API\E_Prescribing_API" (cc26f24e)
2025-11-04T12:42:33.8003476+02:00 0HNGRHRE12OM2:00000003 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger""" - null null (d509f86a)
2025-11-04T12:42:34.0396414+02:00 0HNGRHRE12OM2:00000003 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger""" - 301 0 null 251.9012ms (74253ad3)
2025-11-04T12:42:34.0552196+02:00 0HNGRHRE12OM2:00000005 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/index.html""" - null null (d509f86a)
2025-11-04T12:42:34.2289703+02:00 0HNGRHRE12OM2:00000005 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 173.9403ms (74253ad3)
2025-11-04T12:42:34.3031062+02:00 0HNGRHRE12OM2:00000007 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/_framework/aspnetcore-browser-refresh.js""" - null null (d509f86a)
2025-11-04T12:42:34.3129110+02:00 0HNGRHRE12OM2:00000007 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/_framework/aspnetcore-browser-refresh.js""" - 200 13770 "application/javascript; charset=utf-8" 10.3087ms (74253ad3)
2025-11-04T12:42:34.3138865+02:00 0HNGRHRE12OM2:00000009 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/swagger-ui.css""" - null null (d509f86a)
2025-11-04T12:42:34.3156237+02:00 0HNGRHRE12OM2:0000000B [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/_vs/browserLink""" - null null (d509f86a)
2025-11-04T12:42:34.3609728+02:00 0HNGRHRE12OM2:00000009 [INF] Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"' (27b0a520)
2025-11-04T12:42:34.3612799+02:00 0HNGRHRE12OM2:00000009 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/swagger-ui.css""" - 499 152034 "text/css" 47.6926ms (74253ad3)
2025-11-04T12:42:34.4630541+02:00 0HNGRHRE12OM2:0000000B [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 147.6211ms (74253ad3)
2025-11-04T12:42:34.6637597+02:00 0HNGRHRE12OM2:0000000D [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/favicon-16x16.png""" - null null (d509f86a)
2025-11-04T12:42:34.6664947+02:00 0HNGRHRE12OM2:0000000D [INF] Sending file. Request path: '"/favicon-16x16.png"'. Physical path: '"N/A"' (27b0a520)
2025-11-04T12:42:34.6668964+02:00 0HNGRHRE12OM2:0000000D [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/favicon-16x16.png""" - 499 665 "image/png" 3.5928ms (74253ad3)
2025-11-04T12:42:34.7645343+02:00 0HNGRHRE12OM2:0000000F [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/v1/swagger.json""" - null null (d509f86a)
2025-11-04T12:42:35.0012635+02:00 0HNGRHRE12OM2:0000000F [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 238.4842ms (74253ad3)
2025-11-04T12:44:22.8355196+02:00 0HNGRHRE12OM2:00000011 [INF] Request starting "HTTP/2" "POST" "https"://"localhost:7150""""/api/Admin/RegisterUser""" - "application/json" 3482 (d509f86a)
2025-11-04T12:44:22.8578696+02:00 0HNGRHRE12OM2:00000011 [INF] Executing endpoint '"E_Prescribing_API.Controllers.AdminController.RegisterUser (E_Prescribing_API)"' (500cc934)
2025-11-04T12:44:22.8840526+02:00 0HNGRHRE12OM2:00000011 [INF] Route matched with "{action = \"RegisterUser\", controller = \"Admin\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterUser(E_Prescribing_API.CollectionModel.UserCollection)" on controller "E_Prescribing_API.Controllers.AdminController" ("E_Prescribing_API"). (122b2fdf)
2025-11-04T12:44:25.0393747+02:00 0HNGRHRE12OM2:00000011 [INF] Executed DbCommand ("74"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0" (0723d8ff)
2025-11-04T12:44:25.1892400+02:00 0HNGRHRE12OM2:00000011 [INF] Executed DbCommand ("6"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2025-11-04T12:44:25.3822845+02:00 0HNGRHRE12OM2:00000011 [INF] Executed DbCommand ("9"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);" (0723d8ff)
2025-11-04T12:44:25.4282513+02:00 0HNGRHRE12OM2:00000011 [INF] Executed DbCommand ("5"ms) [Parameters=["@__normalizedRoleName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0" (0723d8ff)
2025-11-04T12:44:25.5101436+02:00 0HNGRHRE12OM2:00000011 [INF] Executed DbCommand ("6"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1" (0723d8ff)
2025-11-04T12:44:25.5204347+02:00 0HNGRHRE12OM2:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedRoleName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0" (0723d8ff)
2025-11-04T12:44:25.5381847+02:00 0HNGRHRE12OM2:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2025-11-04T12:44:25.5926194+02:00 0HNGRHRE12OM2:00000011 [INF] Executed DbCommand ("14"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p16='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p17='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;" (0723d8ff)
2025-11-04T12:44:25.6396371+02:00 0HNGRHRE12OM2:00000011 [INF] Executed DbCommand ("10"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Pharmacists] ([ContactNumber], [EmailAddress], [FullName], [Name], [RegistrationNumber], [Surname], [UserId])
OUTPUT INSERTED.[PharmacistId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);" (0723d8ff)
2025-11-04T12:44:29.5673443+02:00 0HNGRHRE12OM2:00000011 [ERR] Failed to send email to "pharm@gmail.com" (e0df8605)
System.ArgumentNullException: Value cannot be null. (Parameter 'logger')
   at System.ThrowHelper.Throw(String paramName)
   at Microsoft.Extensions.Logging.LoggerExtensions.Log(ILogger logger, LogLevel logLevel, EventId eventId, Exception exception, String message, Object[] args)
   at Microsoft.Extensions.Logging.LoggerExtensions.LogError(ILogger logger, Exception exception, String message, Object[] args)
   at E_Prescribing_API.Data.Services.EmailSender.SendEmailAsync(String email, String subject, String htmlMessage) in D:\HomeSpace\E_Prescribing_API\E_Prescribing_API\Data\Services\EmailSender.cs:line 52
   at E_Prescribing_API.Controllers.AdminController.RegisterUser(UserCollection model) in D:\HomeSpace\E_Prescribing_API\E_Prescribing_API\Controllers\AdminController.cs:line 127
2025-11-04T12:44:29.5811085+02:00 0HNGRHRE12OM2:00000011 [INF] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType3`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (605b4265)
2025-11-04T12:44:29.5938078+02:00 0HNGRHRE12OM2:00000011 [INF] Executed action "E_Prescribing_API.Controllers.AdminController.RegisterUser (E_Prescribing_API)" in 6702.591ms (afa2e885)
2025-11-04T12:44:29.5944366+02:00 0HNGRHRE12OM2:00000011 [INF] Executed endpoint '"E_Prescribing_API.Controllers.AdminController.RegisterUser (E_Prescribing_API)"' (99874f2b)
2025-11-04T12:44:29.6071335+02:00 0HNGRHRE12OM2:00000011 [INF] Request finished "HTTP/2" "POST" "https"://"localhost:7150""""/api/Admin/RegisterUser""" - 200 null "application/json; charset=utf-8" 6771.6668ms (74253ad3)
2025-11-04T12:45:48.5248428+02:00 0HNGRHRE12OM2:00000013 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/api/Admin/GetUser""" - null null (d509f86a)
2025-11-04T12:45:48.5269995+02:00 0HNGRHRE12OM2:00000013 [INF] Executing endpoint '"E_Prescribing_API.Controllers.AdminController.GetUser (E_Prescribing_API)"' (500cc934)
2025-11-04T12:45:48.5327565+02:00 0HNGRHRE12OM2:00000013 [INF] Route matched with "{action = \"GetUser\", controller = \"Admin\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUser()" on controller "E_Prescribing_API.Controllers.AdminController" ("E_Prescribing_API"). (122b2fdf)
2025-11-04T12:45:48.6404696+02:00 0HNGRHRE12OM2:00000013 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]" (0723d8ff)
2025-11-04T12:45:48.6923498+02:00 0HNGRHRE12OM2:00000013 [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0" (0723d8ff)
2025-11-04T12:45:48.7090593+02:00 0HNGRHRE12OM2:00000013 [INF] Executed DbCommand ("6"ms) [Parameters=["@__user_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [n].[NurseId], [n].[ContactNumber], [n].[EmailAddress], [n].[FullName], [n].[Name], [n].[RegistrationNumber], [n].[Surname], [n].[UserId]
FROM [Nurses] AS [n]
WHERE [n].[UserId] = @__user_Id_0" (0723d8ff)
2025-11-04T12:45:48.7137343+02:00 0HNGRHRE12OM2:00000013 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0" (0723d8ff)
2025-11-04T12:45:48.7201848+02:00 0HNGRHRE12OM2:00000013 [INF] Executed DbCommand ("2"ms) [Parameters=["@__user_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [n].[NurseId], [n].[ContactNumber], [n].[EmailAddress], [n].[FullName], [n].[Name], [n].[RegistrationNumber], [n].[Surname], [n].[UserId]
FROM [Nurses] AS [n]
WHERE [n].[UserId] = @__user_Id_0" (0723d8ff)
2025-11-04T12:45:48.7377385+02:00 0HNGRHRE12OM2:00000013 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0" (0723d8ff)
2025-11-04T12:45:48.7476749+02:00 0HNGRHRE12OM2:00000013 [INF] Executed DbCommand ("4"ms) [Parameters=["@__user_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [n].[NurseId], [n].[ContactNumber], [n].[EmailAddress], [n].[FullName], [n].[Name], [n].[RegistrationNumber], [n].[Surname], [n].[UserId]
FROM [Nurses] AS [n]
WHERE [n].[UserId] = @__user_Id_0" (0723d8ff)
2025-11-04T12:45:48.7523467+02:00 0HNGRHRE12OM2:00000013 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0" (0723d8ff)
2025-11-04T12:45:48.7584671+02:00 0HNGRHRE12OM2:00000013 [INF] Executed DbCommand ("2"ms) [Parameters=["@__user_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [n].[NurseId], [n].[ContactNumber], [n].[EmailAddress], [n].[FullName], [n].[Name], [n].[RegistrationNumber], [n].[Surname], [n].[UserId]
FROM [Nurses] AS [n]
WHERE [n].[UserId] = @__user_Id_0" (0723d8ff)
2025-11-04T12:45:48.7629614+02:00 0HNGRHRE12OM2:00000013 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0" (0723d8ff)
2025-11-04T12:45:48.7679366+02:00 0HNGRHRE12OM2:00000013 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0" (0723d8ff)
2025-11-04T12:45:48.7760676+02:00 0HNGRHRE12OM2:00000013 [INF] Executed DbCommand ("3"ms) [Parameters=["@__user_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [n].[NurseId], [n].[ContactNumber], [n].[EmailAddress], [n].[FullName], [n].[Name], [n].[RegistrationNumber], [n].[Surname], [n].[UserId]
FROM [Nurses] AS [n]
WHERE [n].[UserId] = @__user_Id_0" (0723d8ff)
2025-11-04T12:45:48.7808468+02:00 0HNGRHRE12OM2:00000013 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0" (0723d8ff)
2025-11-04T12:45:48.8008995+02:00 0HNGRHRE12OM2:00000013 [INF] Executed DbCommand ("7"ms) [Parameters=["@__user_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [p].[PharmacistId], [p].[ContactNumber], [p].[EmailAddress], [p].[FullName], [p].[Name], [p].[RegistrationNumber], [p].[Surname], [p].[UserId]
FROM [Pharmacists] AS [p]
WHERE [p].[UserId] = @__user_Id_0" (0723d8ff)
2025-11-04T12:45:48.8036824+02:00 0HNGRHRE12OM2:00000013 [INF] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (605b4265)
2025-11-04T12:45:48.8182389+02:00 0HNGRHRE12OM2:00000013 [INF] Executed action "E_Prescribing_API.Controllers.AdminController.GetUser (E_Prescribing_API)" in 285.3097ms (afa2e885)
2025-11-04T12:45:48.8183237+02:00 0HNGRHRE12OM2:00000013 [INF] Executed endpoint '"E_Prescribing_API.Controllers.AdminController.GetUser (E_Prescribing_API)"' (99874f2b)
2025-11-04T12:45:48.8186723+02:00 0HNGRHRE12OM2:00000013 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/api/Admin/GetUser""" - 200 null "application/json; charset=utf-8" 294.0591ms (74253ad3)
2025-11-04T12:54:35.4713367+02:00  [INF] User profile is available. Using '"C:\Users\ThatoTs\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2025-11-04T12:54:35.9333404+02:00  [INF] Now listening on: "https://localhost:7150" (d826f4b8)
2025-11-04T12:54:35.9362564+02:00  [INF] Now listening on: "http://localhost:5031" (d826f4b8)
2025-11-04T12:54:36.0629378+02:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2025-11-04T12:54:36.0668804+02:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2025-11-04T12:54:36.0699817+02:00  [INF] Content root path: "D:\HomeSpace\E_Prescribing_API\E_Prescribing_API" (cc26f24e)
2025-11-04T12:54:37.9998544+02:00 0HNGRI25L1QF2:00000003 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger""" - null null (d509f86a)
2025-11-04T12:54:38.3287773+02:00 0HNGRI25L1QF2:00000003 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger""" - 301 0 null 351.2929ms (74253ad3)
2025-11-04T12:54:38.3545395+02:00 0HNGRI25L1QF2:00000005 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/index.html""" - null null (d509f86a)
2025-11-04T12:54:38.4800783+02:00 0HNGRI25L1QF2:00000005 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 125.7301ms (74253ad3)
2025-11-04T12:54:38.5474262+02:00 0HNGRI25L1QF2:00000007 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/_framework/aspnetcore-browser-refresh.js""" - null null (d509f86a)
2025-11-04T12:54:38.5562623+02:00 0HNGRI25L1QF2:00000007 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/_framework/aspnetcore-browser-refresh.js""" - 200 13770 "application/javascript; charset=utf-8" 9.3196ms (74253ad3)
2025-11-04T12:54:38.5675116+02:00 0HNGRI25L1QF2:00000009 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/swagger-ui.css""" - null null (d509f86a)
2025-11-04T12:54:38.5694721+02:00 0HNGRI25L1QF2:0000000B [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/_vs/browserLink""" - null null (d509f86a)
2025-11-04T12:54:38.5842972+02:00 0HNGRI25L1QF2:00000009 [INF] Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"' (27b0a520)
2025-11-04T12:54:38.5849179+02:00 0HNGRI25L1QF2:00000009 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/swagger-ui.css""" - 499 152034 "text/css" 17.686ms (74253ad3)
2025-11-04T12:54:38.6255262+02:00 0HNGRI25L1QF2:0000000B [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 56.3051ms (74253ad3)
2025-11-04T12:54:38.8500963+02:00 0HNGRI25L1QF2:0000000D [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/favicon-16x16.png""" - null null (d509f86a)
2025-11-04T12:54:38.8630591+02:00 0HNGRI25L1QF2:0000000D [INF] Sending file. Request path: '"/favicon-16x16.png"'. Physical path: '"N/A"' (27b0a520)
2025-11-04T12:54:38.8632819+02:00 0HNGRI25L1QF2:0000000D [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/favicon-16x16.png""" - 499 665 "image/png" 14.9258ms (74253ad3)
2025-11-04T12:54:38.9532390+02:00 0HNGRI25L1QF2:0000000F [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/v1/swagger.json""" - null null (d509f86a)
2025-11-04T12:54:39.1730863+02:00 0HNGRI25L1QF2:0000000F [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 220.4723ms (74253ad3)
2025-11-04T12:54:49.7864203+02:00 0HNGRI25L1QF2:00000011 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/api/Admin/GetUser""" - null null (d509f86a)
2025-11-04T12:54:49.7941847+02:00 0HNGRI25L1QF2:00000011 [INF] Executing endpoint '"E_Prescribing_API.Controllers.AdminController.GetUser (E_Prescribing_API)"' (500cc934)
2025-11-04T12:54:49.8313514+02:00 0HNGRI25L1QF2:00000011 [INF] Route matched with "{action = \"GetUser\", controller = \"Admin\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUser()" on controller "E_Prescribing_API.Controllers.AdminController" ("E_Prescribing_API"). (122b2fdf)
2025-11-04T12:54:51.4890739+02:00 0HNGRI25L1QF2:00000011 [INF] Executed DbCommand ("39"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]" (0723d8ff)
2025-11-04T12:54:51.8054369+02:00 0HNGRI25L1QF2:00000011 [INF] Executed DbCommand ("35"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0" (0723d8ff)
2025-11-04T12:54:51.8329958+02:00 0HNGRI25L1QF2:00000011 [INF] Executed DbCommand ("4"ms) [Parameters=["@__user_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [n].[NurseId], [n].[ContactNumber], [n].[EmailAddress], [n].[FullName], [n].[Name], [n].[RegistrationNumber], [n].[Surname], [n].[UserId]
FROM [Nurses] AS [n]
WHERE [n].[UserId] = @__user_Id_0" (0723d8ff)
2025-11-04T12:54:51.8415027+02:00 0HNGRI25L1QF2:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0" (0723d8ff)
2025-11-04T12:54:51.8485995+02:00 0HNGRI25L1QF2:00000011 [INF] Executed DbCommand ("2"ms) [Parameters=["@__user_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [n].[NurseId], [n].[ContactNumber], [n].[EmailAddress], [n].[FullName], [n].[Name], [n].[RegistrationNumber], [n].[Surname], [n].[UserId]
FROM [Nurses] AS [n]
WHERE [n].[UserId] = @__user_Id_0" (0723d8ff)
2025-11-04T12:54:51.8938311+02:00 0HNGRI25L1QF2:00000011 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0" (0723d8ff)
2025-11-04T12:54:51.8988005+02:00 0HNGRI25L1QF2:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [n].[NurseId], [n].[ContactNumber], [n].[EmailAddress], [n].[FullName], [n].[Name], [n].[RegistrationNumber], [n].[Surname], [n].[UserId]
FROM [Nurses] AS [n]
WHERE [n].[UserId] = @__user_Id_0" (0723d8ff)
2025-11-04T12:54:51.9037908+02:00 0HNGRI25L1QF2:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0" (0723d8ff)
2025-11-04T12:54:51.9080760+02:00 0HNGRI25L1QF2:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [n].[NurseId], [n].[ContactNumber], [n].[EmailAddress], [n].[FullName], [n].[Name], [n].[RegistrationNumber], [n].[Surname], [n].[UserId]
FROM [Nurses] AS [n]
WHERE [n].[UserId] = @__user_Id_0" (0723d8ff)
2025-11-04T12:54:51.9132747+02:00 0HNGRI25L1QF2:00000011 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0" (0723d8ff)
2025-11-04T12:54:51.9184856+02:00 0HNGRI25L1QF2:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0" (0723d8ff)
2025-11-04T12:54:51.9220072+02:00 0HNGRI25L1QF2:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [n].[NurseId], [n].[ContactNumber], [n].[EmailAddress], [n].[FullName], [n].[Name], [n].[RegistrationNumber], [n].[Surname], [n].[UserId]
FROM [Nurses] AS [n]
WHERE [n].[UserId] = @__user_Id_0" (0723d8ff)
2025-11-04T12:54:51.9275182+02:00 0HNGRI25L1QF2:00000011 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0" (0723d8ff)
2025-11-04T12:54:51.9412643+02:00 0HNGRI25L1QF2:00000011 [INF] Executed DbCommand ("4"ms) [Parameters=["@__user_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [p].[PharmacistId], [p].[ContactNumber], [p].[EmailAddress], [p].[FullName], [p].[Name], [p].[RegistrationNumber], [p].[Surname], [p].[UserId]
FROM [Pharmacists] AS [p]
WHERE [p].[UserId] = @__user_Id_0" (0723d8ff)
2025-11-04T12:54:51.9732471+02:00 0HNGRI25L1QF2:00000011 [INF] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (605b4265)
2025-11-04T12:54:52.0057570+02:00 0HNGRI25L1QF2:00000011 [INF] Executed action "E_Prescribing_API.Controllers.AdminController.GetUser (E_Prescribing_API)" in 2165.5087ms (afa2e885)
2025-11-04T12:54:52.0067853+02:00 0HNGRI25L1QF2:00000011 [INF] Executed endpoint '"E_Prescribing_API.Controllers.AdminController.GetUser (E_Prescribing_API)"' (99874f2b)
2025-11-04T12:54:52.0170480+02:00 0HNGRI25L1QF2:00000011 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/api/Admin/GetUser""" - 200 null "application/json; charset=utf-8" 2230.9221ms (74253ad3)
2025-11-04T12:58:53.2175620+02:00  [INF] Executed DbCommand ("11"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2025-11-04T12:58:53.2354638+02:00  [INF] Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2025-11-04T12:58:53.2382029+02:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2025-11-04T12:58:53.2389516+02:00  [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2025-11-04T12:58:53.2492373+02:00  [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];" (0723d8ff)
2025-11-04T12:58:53.2592005+02:00  [INF] Applying migration '"20251104105840_removerUseremail"'. (0e2ac64d)
2025-11-04T12:58:53.3841100+02:00  [INF] Executed DbCommand ("68"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Surgeons]') AND [c].[name] = N'EmailAddress');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Surgeons] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [Surgeons] DROP COLUMN [EmailAddress];" (0723d8ff)
2025-11-04T12:58:53.4091356+02:00  [INF] Executed DbCommand ("24"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Pharmacists]') AND [c].[name] = N'EmailAddress');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [Pharmacists] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [Pharmacists] DROP COLUMN [EmailAddress];" (0723d8ff)
2025-11-04T12:58:53.4349014+02:00  [INF] Executed DbCommand ("26"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var2 sysname;
SELECT @var2 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Nurses]') AND [c].[name] = N'EmailAddress');
IF @var2 IS NOT NULL EXEC(N'ALTER TABLE [Nurses] DROP CONSTRAINT [' + @var2 + '];');
ALTER TABLE [Nurses] DROP COLUMN [EmailAddress];" (0723d8ff)
2025-11-04T12:58:53.4611103+02:00  [INF] Executed DbCommand ("26"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var3 sysname;
SELECT @var3 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Anaesthesiologists]') AND [c].[name] = N'EmailAddress');
IF @var3 IS NOT NULL EXEC(N'ALTER TABLE [Anaesthesiologists] DROP CONSTRAINT [' + @var3 + '];');
ALTER TABLE [Anaesthesiologists] DROP COLUMN [EmailAddress];" (0723d8ff)
2025-11-04T12:58:53.9645266+02:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251104105840_removerUseremail', N'8.0.0');" (0723d8ff)
2025-11-04T13:22:21.9630816+02:00  [INF] User profile is available. Using '"C:\Users\ThatoTs\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2025-11-04T13:22:22.3333759+02:00  [INF] Now listening on: "https://localhost:7150" (d826f4b8)
2025-11-04T13:22:22.3369303+02:00  [INF] Now listening on: "http://localhost:5031" (d826f4b8)
2025-11-04T13:22:22.4184436+02:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2025-11-04T13:22:22.4215679+02:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2025-11-04T13:22:22.4245092+02:00  [INF] Content root path: "D:\HomeSpace\E_Prescribing_API\E_Prescribing_API" (cc26f24e)
2025-11-04T13:22:23.3069774+02:00 0HNGRIHM8EHK5:00000003 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger""" - null null (d509f86a)
2025-11-04T13:22:23.6823542+02:00 0HNGRIHM8EHK5:00000003 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger""" - 301 0 null 386.0522ms (74253ad3)
2025-11-04T13:22:23.7006227+02:00 0HNGRIHM8EHK5:00000005 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/index.html""" - null null (d509f86a)
2025-11-04T13:22:23.8698170+02:00 0HNGRIHM8EHK5:00000005 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 169.3804ms (74253ad3)
2025-11-04T13:22:23.9126511+02:00 0HNGRIHM8EHK5:00000007 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/_framework/aspnetcore-browser-refresh.js""" - null null (d509f86a)
2025-11-04T13:22:23.9181303+02:00 0HNGRIHM8EHK5:00000009 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/swagger-ui.css""" - null null (d509f86a)
2025-11-04T13:22:23.9191224+02:00 0HNGRIHM8EHK5:0000000B [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/_vs/browserLink""" - null null (d509f86a)
2025-11-04T13:22:23.9733988+02:00 0HNGRIHM8EHK5:00000007 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/_framework/aspnetcore-browser-refresh.js""" - 200 13770 "application/javascript; charset=utf-8" 61.7995ms (74253ad3)
2025-11-04T13:22:24.0048878+02:00 0HNGRIHM8EHK5:00000009 [INF] Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"' (27b0a520)
2025-11-04T13:22:24.0051543+02:00 0HNGRIHM8EHK5:00000009 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/swagger-ui.css""" - 499 152034 "text/css" 87.0859ms (74253ad3)
2025-11-04T13:22:24.0608882+02:00 0HNGRIHM8EHK5:0000000B [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 142.3219ms (74253ad3)
2025-11-04T13:22:24.1182636+02:00 0HNGRIHM8EHK5:0000000D [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/favicon-16x16.png""" - null null (d509f86a)
2025-11-04T13:22:24.1204936+02:00 0HNGRIHM8EHK5:0000000D [INF] Sending file. Request path: '"/favicon-16x16.png"'. Physical path: '"N/A"' (27b0a520)
2025-11-04T13:22:24.1207790+02:00 0HNGRIHM8EHK5:0000000D [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/favicon-16x16.png""" - 499 665 "image/png" 3.3077ms (74253ad3)
2025-11-04T13:22:24.2370412+02:00 0HNGRIHM8EHK5:0000000F [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/v1/swagger.json""" - null null (d509f86a)
2025-11-04T13:22:24.4586495+02:00 0HNGRIHM8EHK5:0000000F [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 222.3626ms (74253ad3)
2025-11-04T13:24:09.1424421+02:00 0HNGRIHM8EHK5:00000011 [INF] Request starting "HTTP/2" "POST" "https"://"localhost:7150""""/api/Account/DeactivateUser/9""" - null 0 (d509f86a)
2025-11-04T13:24:09.1614671+02:00 0HNGRIHM8EHK5:00000011 [INF] Executing endpoint '"E_Prescribing_API.Controllers.AccountController.DeactivateUser (E_Prescribing_API)"' (500cc934)
2025-11-04T13:24:09.1832347+02:00 0HNGRIHM8EHK5:00000011 [INF] Route matched with "{action = \"DeactivateUser\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeactivateUser(Int32)" on controller "E_Prescribing_API.Controllers.AccountController" ("E_Prescribing_API"). (122b2fdf)
2025-11-04T13:24:11.0336207+02:00 0HNGRIHM8EHK5:00000011 [INF] Executed DbCommand ("70"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0" (0723d8ff)
2025-11-04T13:24:11.2068863+02:00 0HNGRIHM8EHK5:00000011 [INF] Executed DbCommand ("6"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2025-11-04T13:24:11.4069777+02:00 0HNGRIHM8EHK5:00000011 [INF] Executed DbCommand ("12"ms) [Parameters=["@p14='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p15='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [SecurityStamp] = @p11, [TwoFactorEnabled] = @p12, [UserName] = @p13
OUTPUT 1
WHERE [Id] = @p14 AND [ConcurrencyStamp] = @p15;" (0723d8ff)
2025-11-04T13:24:11.4339107+02:00 0HNGRIHM8EHK5:00000011 [INF] User 9 has been deactivated. (53422fc6)
2025-11-04T13:24:11.4414080+02:00 0HNGRIHM8EHK5:00000011 [INF] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType5`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (605b4265)
2025-11-04T13:24:11.4585147+02:00 0HNGRIHM8EHK5:00000011 [INF] Executed action "E_Prescribing_API.Controllers.AccountController.DeactivateUser (E_Prescribing_API)" in 2268.9102ms (afa2e885)
2025-11-04T13:24:11.4594821+02:00 0HNGRIHM8EHK5:00000011 [INF] Executed endpoint '"E_Prescribing_API.Controllers.AccountController.DeactivateUser (E_Prescribing_API)"' (99874f2b)
2025-11-04T13:24:11.4700873+02:00 0HNGRIHM8EHK5:00000011 [INF] Request finished "HTTP/2" "POST" "https"://"localhost:7150""""/api/Account/DeactivateUser/9""" - 200 null "application/json; charset=utf-8" 2329.0574ms (74253ad3)
2025-11-04T13:26:02.4346519+02:00 0HNGRIHM8EHK5:00000013 [INF] Request starting "HTTP/2" "POST" "https"://"localhost:7150""""/api/Account/Login""" - "application/json" 51 (d509f86a)
2025-11-04T13:26:02.4439398+02:00 0HNGRIHM8EHK5:00000013 [INF] Executing endpoint '"E_Prescribing_API.Controllers.AccountController.Login (E_Prescribing_API)"' (500cc934)
2025-11-04T13:26:02.4536332+02:00 0HNGRIHM8EHK5:00000013 [INF] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(E_Prescribing_API.CollectionModel.LoginCollection)" on controller "E_Prescribing_API.Controllers.AccountController" ("E_Prescribing_API"). (122b2fdf)
2025-11-04T13:26:02.6749621+02:00 0HNGRIHM8EHK5:00000013 [INF] Executed DbCommand ("8"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2025-11-04T13:26:02.8795848+02:00 0HNGRIHM8EHK5:00000013 [INF] Executed DbCommand ("8"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0" (0723d8ff)
2025-11-04T13:26:03.0581046+02:00 0HNGRIHM8EHK5:00000013 [INF] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType3`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType4`3[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], E_Prescribing_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2025-11-04T13:26:03.0712260+02:00 0HNGRIHM8EHK5:00000013 [INF] Executed action "E_Prescribing_API.Controllers.AccountController.Login (E_Prescribing_API)" in 617.3808ms (afa2e885)
2025-11-04T13:26:03.0713749+02:00 0HNGRIHM8EHK5:00000013 [INF] Executed endpoint '"E_Prescribing_API.Controllers.AccountController.Login (E_Prescribing_API)"' (99874f2b)
2025-11-04T13:26:03.0721329+02:00 0HNGRIHM8EHK5:00000013 [INF] Request finished "HTTP/2" "POST" "https"://"localhost:7150""""/api/Account/Login""" - 200 null "application/json; charset=utf-8" 639.2301ms (74253ad3)
2025-11-04T13:32:54.9634274+02:00  [INF] User profile is available. Using '"C:\Users\ThatoTs\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2025-11-04T13:32:55.5068912+02:00  [INF] Now listening on: "https://localhost:7150" (d826f4b8)
2025-11-04T13:32:55.5097609+02:00  [INF] Now listening on: "http://localhost:5031" (d826f4b8)
2025-11-04T13:32:55.6658095+02:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2025-11-04T13:32:55.6689508+02:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2025-11-04T13:32:55.6715029+02:00  [INF] Content root path: "D:\HomeSpace\E_Prescribing_API\E_Prescribing_API" (cc26f24e)
2025-11-04T13:32:57.1428040+02:00 0HNGRINJ03BN0:00000003 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger""" - null null (d509f86a)
2025-11-04T13:32:57.3885367+02:00 0HNGRINJ03BN0:00000003 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger""" - 301 0 null 259.9857ms (74253ad3)
2025-11-04T13:32:57.4005177+02:00 0HNGRINJ03BN0:00000005 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/index.html""" - null null (d509f86a)
2025-11-04T13:32:57.5270363+02:00 0HNGRINJ03BN0:00000005 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 126.7275ms (74253ad3)
2025-11-04T13:32:57.6232889+02:00 0HNGRINJ03BN0:00000007 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/_vs/browserLink""" - null null (d509f86a)
2025-11-04T13:32:57.6243626+02:00 0HNGRINJ03BN0:00000009 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/_framework/aspnetcore-browser-refresh.js""" - null null (d509f86a)
2025-11-04T13:32:57.6476269+02:00 0HNGRINJ03BN0:00000009 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/_framework/aspnetcore-browser-refresh.js""" - 200 13770 "application/javascript; charset=utf-8" 23.6191ms (74253ad3)
2025-11-04T13:32:57.8096660+02:00 0HNGRINJ03BN0:00000007 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 187.025ms (74253ad3)
2025-11-04T13:32:57.9757479+02:00 0HNGRINJ03BN0:0000000B [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/v1/swagger.json""" - null null (d509f86a)
2025-11-04T13:32:58.1642054+02:00 0HNGRINJ03BN0:0000000B [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 188.9033ms (74253ad3)
2025-11-04T13:33:24.8276318+02:00 0HNGRINJ03BN0:0000000D [INF] Request starting "HTTP/2" "POST" "https"://"localhost:7150""""/api/Account/Login""" - "application/json" 51 (d509f86a)
2025-11-04T13:33:24.8431778+02:00 0HNGRINJ03BN0:0000000D [INF] Executing endpoint '"E_Prescribing_API.Controllers.AccountController.Login (E_Prescribing_API)"' (500cc934)
2025-11-04T13:33:24.8743956+02:00 0HNGRINJ03BN0:0000000D [INF] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(E_Prescribing_API.CollectionModel.LoginCollection)" on controller "E_Prescribing_API.Controllers.AccountController" ("E_Prescribing_API"). (122b2fdf)
2025-11-04T13:33:26.4730646+02:00 0HNGRINJ03BN0:0000000D [INF] Executed DbCommand ("42"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2025-11-04T13:33:26.5850324+02:00 0HNGRINJ03BN0:0000000D [INF] Executing "UnauthorizedObjectResult", writing value of type '"<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (605b4265)
2025-11-04T13:33:26.5933317+02:00 0HNGRINJ03BN0:0000000D [INF] Executed action "E_Prescribing_API.Controllers.AccountController.Login (E_Prescribing_API)" in 1714.5582ms (afa2e885)
2025-11-04T13:33:26.5938395+02:00 0HNGRINJ03BN0:0000000D [INF] Executed endpoint '"E_Prescribing_API.Controllers.AccountController.Login (E_Prescribing_API)"' (99874f2b)
2025-11-04T13:33:26.6033866+02:00 0HNGRINJ03BN0:0000000D [INF] Request finished "HTTP/2" "POST" "https"://"localhost:7150""""/api/Account/Login""" - 401 null "application/json; charset=utf-8" 1776.2092ms (74253ad3)
2025-11-04T13:34:03.5342157+02:00 0HNGRINJ03BN0:0000000F [INF] Request starting "HTTP/2" "POST" "https"://"localhost:7150""""/api/Account/ReactivateUser/9""" - null 0 (d509f86a)
2025-11-04T13:34:03.5363217+02:00 0HNGRINJ03BN0:0000000F [INF] Executing endpoint '"E_Prescribing_API.Controllers.AccountController.ReactivateUser (E_Prescribing_API)"' (500cc934)
2025-11-04T13:34:03.5424948+02:00 0HNGRINJ03BN0:0000000F [INF] Route matched with "{action = \"ReactivateUser\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ReactivateUser(Int32)" on controller "E_Prescribing_API.Controllers.AccountController" ("E_Prescribing_API"). (122b2fdf)
2025-11-04T13:34:03.6573857+02:00 0HNGRINJ03BN0:0000000F [INF] Executed DbCommand ("6"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0" (0723d8ff)
2025-11-04T13:34:03.6686542+02:00 0HNGRINJ03BN0:0000000F [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2025-11-04T13:34:03.7805594+02:00 0HNGRINJ03BN0:0000000F [INF] Executed DbCommand ("10"ms) [Parameters=["@p14='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p15='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [SecurityStamp] = @p11, [TwoFactorEnabled] = @p12, [UserName] = @p13
OUTPUT 1
WHERE [Id] = @p14 AND [ConcurrencyStamp] = @p15;" (0723d8ff)
2025-11-04T13:34:03.7926496+02:00 0HNGRINJ03BN0:0000000F [INF] User 9 has been reactivated. (fe317d63)
2025-11-04T13:34:03.7936687+02:00 0HNGRINJ03BN0:0000000F [INF] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType5`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (605b4265)
2025-11-04T13:34:03.7958333+02:00 0HNGRINJ03BN0:0000000F [INF] Executed action "E_Prescribing_API.Controllers.AccountController.ReactivateUser (E_Prescribing_API)" in 253.2388ms (afa2e885)
2025-11-04T13:34:03.7958703+02:00 0HNGRINJ03BN0:0000000F [INF] Executed endpoint '"E_Prescribing_API.Controllers.AccountController.ReactivateUser (E_Prescribing_API)"' (99874f2b)
2025-11-04T13:34:03.7961510+02:00 0HNGRINJ03BN0:0000000F [INF] Request finished "HTTP/2" "POST" "https"://"localhost:7150""""/api/Account/ReactivateUser/9""" - 200 null "application/json; charset=utf-8" 262.0903ms (74253ad3)
2025-11-04T13:34:40.1003197+02:00 0HNGRINJ03BN0:00000011 [INF] Request starting "HTTP/2" "POST" "https"://"localhost:7150""""/api/Account/Login""" - "application/json" 51 (d509f86a)
2025-11-04T13:34:40.1011404+02:00 0HNGRINJ03BN0:00000011 [INF] Executing endpoint '"E_Prescribing_API.Controllers.AccountController.Login (E_Prescribing_API)"' (500cc934)
2025-11-04T13:34:40.1013538+02:00 0HNGRINJ03BN0:00000011 [INF] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(E_Prescribing_API.CollectionModel.LoginCollection)" on controller "E_Prescribing_API.Controllers.AccountController" ("E_Prescribing_API"). (122b2fdf)
2025-11-04T13:34:40.1305678+02:00 0HNGRINJ03BN0:00000011 [INF] Executed DbCommand ("4"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2025-11-04T13:34:40.2530105+02:00 0HNGRINJ03BN0:00000011 [INF] Executed DbCommand ("8"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0" (0723d8ff)
2025-11-04T13:34:40.3948220+02:00 0HNGRINJ03BN0:00000011 [INF] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType3`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType4`3[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], E_Prescribing_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2025-11-04T13:34:40.4061260+02:00 0HNGRINJ03BN0:00000011 [INF] Executed action "E_Prescribing_API.Controllers.AccountController.Login (E_Prescribing_API)" in 304.7138ms (afa2e885)
2025-11-04T13:34:40.4061825+02:00 0HNGRINJ03BN0:00000011 [INF] Executed endpoint '"E_Prescribing_API.Controllers.AccountController.Login (E_Prescribing_API)"' (99874f2b)
2025-11-04T13:34:40.4063750+02:00 0HNGRINJ03BN0:00000011 [INF] Request finished "HTTP/2" "POST" "https"://"localhost:7150""""/api/Account/Login""" - 200 null "application/json; charset=utf-8" 306.3369ms (74253ad3)
2025-11-04T13:34:48.3430836+02:00 0HNGRINJ03BN0:00000013 [INF] Request starting "HTTP/2" "POST" "https"://"localhost:7150""""/api/Account/Login""" - "application/json" 52 (d509f86a)
2025-11-04T13:34:48.3438238+02:00 0HNGRINJ03BN0:00000013 [INF] Executing endpoint '"E_Prescribing_API.Controllers.AccountController.Login (E_Prescribing_API)"' (500cc934)
2025-11-04T13:34:48.3439621+02:00 0HNGRINJ03BN0:00000013 [INF] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(E_Prescribing_API.CollectionModel.LoginCollection)" on controller "E_Prescribing_API.Controllers.AccountController" ("E_Prescribing_API"). (122b2fdf)
2025-11-04T13:34:48.3505469+02:00 0HNGRINJ03BN0:00000013 [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2025-11-04T13:34:48.4237524+02:00 0HNGRINJ03BN0:00000013 [INF] Executing "UnauthorizedObjectResult", writing value of type '"<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (605b4265)
2025-11-04T13:34:48.4240112+02:00 0HNGRINJ03BN0:00000013 [INF] Executed action "E_Prescribing_API.Controllers.AccountController.Login (E_Prescribing_API)" in 80.0133ms (afa2e885)
2025-11-04T13:34:48.4240601+02:00 0HNGRINJ03BN0:00000013 [INF] Executed endpoint '"E_Prescribing_API.Controllers.AccountController.Login (E_Prescribing_API)"' (99874f2b)
2025-11-04T13:34:48.4242505+02:00 0HNGRINJ03BN0:00000013 [INF] Request finished "HTTP/2" "POST" "https"://"localhost:7150""""/api/Account/Login""" - 401 null "application/json; charset=utf-8" 81.6417ms (74253ad3)
2025-11-04T13:35:48.0014752+02:00  [INF] User profile is available. Using '"C:\Users\ThatoTs\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2025-11-04T13:35:48.3344250+02:00  [INF] Now listening on: "https://localhost:7150" (d826f4b8)
2025-11-04T13:35:48.3368241+02:00  [INF] Now listening on: "http://localhost:5031" (d826f4b8)
2025-11-04T13:35:48.4008364+02:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2025-11-04T13:35:48.4081528+02:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2025-11-04T13:35:48.4098622+02:00  [INF] Content root path: "D:\HomeSpace\E_Prescribing_API\E_Prescribing_API" (cc26f24e)
2025-11-04T13:35:50.9581648+02:00 0HNGRIP6FMURH:00000003 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger""" - null null (d509f86a)
2025-11-04T13:35:51.1764636+02:00 0HNGRIP6FMURH:00000003 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger""" - 301 0 null 227.9868ms (74253ad3)
2025-11-04T13:35:51.1849023+02:00 0HNGRIP6FMURH:00000005 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/index.html""" - null null (d509f86a)
2025-11-04T13:35:51.2824780+02:00 0HNGRIP6FMURH:00000005 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 97.702ms (74253ad3)
2025-11-04T13:35:51.3454908+02:00 0HNGRIP6FMURH:00000007 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/_vs/browserLink""" - null null (d509f86a)
2025-11-04T13:35:51.3473108+02:00 0HNGRIP6FMURH:00000009 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/_framework/aspnetcore-browser-refresh.js""" - null null (d509f86a)
2025-11-04T13:35:51.3570100+02:00 0HNGRIP6FMURH:00000009 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/_framework/aspnetcore-browser-refresh.js""" - 200 13770 "application/javascript; charset=utf-8" 10.2262ms (74253ad3)
2025-11-04T13:35:51.4108910+02:00 0HNGRIP6FMURH:00000007 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 65.9689ms (74253ad3)
2025-11-04T13:35:51.5451205+02:00 0HNGRIP6FMURH:0000000B [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/v1/swagger.json""" - null null (d509f86a)
2025-11-04T13:35:51.7189246+02:00 0HNGRIP6FMURH:0000000B [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 174.1714ms (74253ad3)
2025-11-04T13:36:10.1438660+02:00 0HNGRIP6FMURH:0000000D [INF] Request starting "HTTP/2" "POST" "https"://"localhost:7150""""/api/Account/Login""" - "application/json" 52 (d509f86a)
2025-11-04T13:36:10.1513837+02:00 0HNGRIP6FMURH:0000000D [INF] Executing endpoint '"E_Prescribing_API.Controllers.AccountController.Login (E_Prescribing_API)"' (500cc934)
2025-11-04T13:36:10.1930866+02:00 0HNGRIP6FMURH:0000000D [INF] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(E_Prescribing_API.CollectionModel.LoginCollection)" on controller "E_Prescribing_API.Controllers.AccountController" ("E_Prescribing_API"). (122b2fdf)
2025-11-04T13:36:12.6596361+02:00 0HNGRIP6FMURH:0000000D [INF] Executed DbCommand ("60"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2025-11-04T13:36:12.8810738+02:00 0HNGRIP6FMURH:0000000D [INF] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0" (0723d8ff)
2025-11-04T13:36:13.0505617+02:00 0HNGRIP6FMURH:0000000D [INF] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType3`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType4`3[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], E_Prescribing_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2025-11-04T13:36:13.0638304+02:00 0HNGRIP6FMURH:0000000D [INF] Executed action "E_Prescribing_API.Controllers.AccountController.Login (E_Prescribing_API)" in 2866.8396ms (afa2e885)
2025-11-04T13:36:13.0643397+02:00 0HNGRIP6FMURH:0000000D [INF] Executed endpoint '"E_Prescribing_API.Controllers.AccountController.Login (E_Prescribing_API)"' (99874f2b)
2025-11-04T13:36:13.0729069+02:00 0HNGRIP6FMURH:0000000D [INF] Request finished "HTTP/2" "POST" "https"://"localhost:7150""""/api/Account/Login""" - 200 null "application/json; charset=utf-8" 2929.3071ms (74253ad3)
2025-11-04T13:45:47.4137396+02:00  [INF] User profile is available. Using '"C:\Users\ThatoTs\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2025-11-04T13:45:47.7473848+02:00  [INF] Now listening on: "https://localhost:7150" (d826f4b8)
2025-11-04T13:45:47.7504016+02:00  [INF] Now listening on: "http://localhost:5031" (d826f4b8)
2025-11-04T13:45:47.8239043+02:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2025-11-04T13:45:47.8272818+02:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2025-11-04T13:45:47.8307199+02:00  [INF] Content root path: "D:\HomeSpace\E_Prescribing_API\E_Prescribing_API" (cc26f24e)
2025-11-04T13:45:50.5236065+02:00 0HNGRIUP4JQD6:00000003 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger""" - null null (d509f86a)
2025-11-04T13:45:50.9548143+02:00 0HNGRIUP4JQD6:00000003 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger""" - 301 0 null 444.2779ms (74253ad3)
2025-11-04T13:45:50.9687403+02:00 0HNGRIUP4JQD6:00000005 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/index.html""" - null null (d509f86a)
2025-11-04T13:45:51.1919773+02:00 0HNGRIUP4JQD6:00000005 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 223.3465ms (74253ad3)
2025-11-04T13:45:51.2334436+02:00 0HNGRIUP4JQD6:00000007 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/_framework/aspnetcore-browser-refresh.js""" - null null (d509f86a)
2025-11-04T13:45:51.2381579+02:00 0HNGRIUP4JQD6:00000009 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/swagger-ui.css""" - null null (d509f86a)
2025-11-04T13:45:51.2396176+02:00 0HNGRIUP4JQD6:0000000B [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/_vs/browserLink""" - null null (d509f86a)
2025-11-04T13:45:51.2669674+02:00 0HNGRIUP4JQD6:00000007 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/_framework/aspnetcore-browser-refresh.js""" - 200 13770 "application/javascript; charset=utf-8" 23.6185ms (74253ad3)
2025-11-04T13:45:51.2925021+02:00 0HNGRIUP4JQD6:00000009 [INF] Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"' (27b0a520)
2025-11-04T13:45:51.2927563+02:00 0HNGRIUP4JQD6:00000009 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/swagger-ui.css""" - 499 152034 "text/css" 54.6575ms (74253ad3)
2025-11-04T13:45:51.3687785+02:00 0HNGRIUP4JQD6:0000000B [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 129.6056ms (74253ad3)
2025-11-04T13:45:51.4663335+02:00 0HNGRIUP4JQD6:0000000D [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/favicon-16x16.png""" - null null (d509f86a)
2025-11-04T13:45:51.4688760+02:00 0HNGRIUP4JQD6:0000000D [INF] Sending file. Request path: '"/favicon-16x16.png"'. Physical path: '"N/A"' (27b0a520)
2025-11-04T13:45:51.4692255+02:00 0HNGRIUP4JQD6:0000000D [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/favicon-16x16.png""" - 499 665 "image/png" 3.5962ms (74253ad3)
2025-11-04T13:45:51.5864854+02:00 0HNGRIUP4JQD6:0000000F [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/v1/swagger.json""" - null null (d509f86a)
2025-11-04T13:45:51.8085696+02:00 0HNGRIUP4JQD6:0000000F [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 222.1859ms (74253ad3)
2025-11-04T13:46:10.8103454+02:00 0HNGRIUP4JQD6:00000011 [INF] Request starting "HTTP/2" "POST" "https"://"localhost:7150""""/api/Account/Login""" - "application/json" 58 (d509f86a)
2025-11-04T13:46:10.8185327+02:00 0HNGRIUP4JQD6:00000011 [INF] Executing endpoint '"E_Prescribing_API.Controllers.AccountController.Login (E_Prescribing_API)"' (500cc934)
2025-11-04T13:46:10.8605988+02:00 0HNGRIUP4JQD6:00000011 [INF] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(E_Prescribing_API.CollectionModel.LoginCollection)" on controller "E_Prescribing_API.Controllers.AccountController" ("E_Prescribing_API"). (122b2fdf)
2025-11-04T13:46:13.3643622+02:00 0HNGRIUP4JQD6:00000011 [INF] Executed DbCommand ("85"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2025-11-04T13:46:13.6876994+02:00 0HNGRIUP4JQD6:00000011 [INF] Executed DbCommand ("8"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0" (0723d8ff)
2025-11-04T13:46:13.8529542+02:00 0HNGRIUP4JQD6:00000011 [INF] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType3`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType4`3[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], E_Prescribing_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2025-11-04T13:46:13.8710255+02:00 0HNGRIUP4JQD6:00000011 [INF] Executed action "E_Prescribing_API.Controllers.AccountController.Login (E_Prescribing_API)" in 3005.4832ms (afa2e885)
2025-11-04T13:46:13.8716546+02:00 0HNGRIUP4JQD6:00000011 [INF] Executed endpoint '"E_Prescribing_API.Controllers.AccountController.Login (E_Prescribing_API)"' (99874f2b)
2025-11-04T13:46:13.8817966+02:00 0HNGRIUP4JQD6:00000011 [INF] Request finished "HTTP/2" "POST" "https"://"localhost:7150""""/api/Account/Login""" - 200 null "application/json; charset=utf-8" 3071.6583ms (74253ad3)
2025-11-04T13:56:50.1036960+02:00  [INF] User profile is available. Using '"C:\Users\ThatoTs\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2025-11-04T13:56:50.3540134+02:00  [INF] Now listening on: "https://localhost:7150" (d826f4b8)
2025-11-04T13:56:50.3571375+02:00  [INF] Now listening on: "http://localhost:5031" (d826f4b8)
2025-11-04T13:56:50.4138424+02:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2025-11-04T13:56:50.4167956+02:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2025-11-04T13:56:50.4194878+02:00  [INF] Content root path: "D:\HomeSpace\E_Prescribing_API\E_Prescribing_API" (cc26f24e)
2025-11-04T13:56:51.5379086+02:00 0HNGRJ4UMQTUU:00000003 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger""" - null null (d509f86a)
2025-11-04T13:56:51.7525616+02:00 0HNGRJ4UMQTUU:00000003 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger""" - 301 0 null 223.7229ms (74253ad3)
2025-11-04T13:56:51.7600402+02:00 0HNGRJ4UMQTUU:00000005 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/index.html""" - null null (d509f86a)
2025-11-04T13:56:51.9091357+02:00 0HNGRJ4UMQTUU:00000005 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 149.1957ms (74253ad3)
2025-11-04T13:56:51.9327972+02:00 0HNGRJ4UMQTUU:00000007 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/_vs/browserLink""" - null null (d509f86a)
2025-11-04T13:56:51.9333676+02:00 0HNGRJ4UMQTUU:00000009 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/_framework/aspnetcore-browser-refresh.js""" - null null (d509f86a)
2025-11-04T13:56:51.9400052+02:00 0HNGRJ4UMQTUU:00000009 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/_framework/aspnetcore-browser-refresh.js""" - 200 13770 "application/javascript; charset=utf-8" 6.7993ms (74253ad3)
2025-11-04T13:56:51.9811852+02:00 0HNGRJ4UMQTUU:00000007 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 48.4285ms (74253ad3)
2025-11-04T13:56:52.0635195+02:00 0HNGRJ4UMQTUU:0000000B [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/v1/swagger.json""" - null null (d509f86a)
2025-11-04T13:56:52.1634311+02:00 0HNGRJ4UMQTUU:0000000B [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 100.282ms (74253ad3)
2025-11-04T13:57:21.6536949+02:00 0HNGRJ4UMQTUU:0000000D [INF] Request starting "HTTP/2" "POST" "https"://"localhost:7150""""/api/Account/ForgotPassword""" - "application/json" 39 (d509f86a)
2025-11-04T13:57:21.6613728+02:00 0HNGRJ4UMQTUU:0000000D [INF] Executing endpoint '"E_Prescribing_API.Controllers.AccountController.ForgotPassword (E_Prescribing_API)"' (500cc934)
2025-11-04T13:57:21.6898942+02:00 0HNGRJ4UMQTUU:0000000D [INF] Route matched with "{action = \"ForgotPassword\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ForgotPassword(E_Prescribing_API.CollectionModel.ForgotPasswordCollection)" on controller "E_Prescribing_API.Controllers.AccountController" ("E_Prescribing_API"). (122b2fdf)
2025-11-04T13:57:23.1977029+02:00 0HNGRJ4UMQTUU:0000000D [INF] Executed DbCommand ("61"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0" (0723d8ff)
2025-11-04T13:57:27.2313733+02:00 0HNGRJ4UMQTUU:0000000D [ERR] Error while processing forgot password for "tshomathato1@gmail.com" (31d461c6)
System.ArgumentNullException: Value cannot be null. (Parameter 'logger')
   at System.ThrowHelper.Throw(String paramName)
   at Microsoft.Extensions.Logging.LoggerExtensions.Log(ILogger logger, LogLevel logLevel, EventId eventId, Exception exception, String message, Object[] args)
   at Microsoft.Extensions.Logging.LoggerExtensions.LogError(ILogger logger, Exception exception, String message, Object[] args)
   at E_Prescribing_API.Data.Services.EmailSender.SendEmailAsync(String email, String subject, String htmlMessage) in D:\HomeSpace\E_Prescribing_API\E_Prescribing_API\Data\Services\EmailSender.cs:line 52
   at E_Prescribing_API.Controllers.AccountController.ForgotPassword(ForgotPasswordCollection model) in D:\HomeSpace\E_Prescribing_API\E_Prescribing_API\Controllers\AccountController.cs:line 420
2025-11-04T13:57:27.2406419+02:00 0HNGRJ4UMQTUU:0000000D [INF] Executing "ObjectResult", writing value of type '"System.String"'. (605b4265)
2025-11-04T13:57:27.2476029+02:00 0HNGRJ4UMQTUU:0000000D [INF] Executed action "E_Prescribing_API.Controllers.AccountController.ForgotPassword (E_Prescribing_API)" in 5552.3807ms (afa2e885)
2025-11-04T13:57:27.2481231+02:00 0HNGRJ4UMQTUU:0000000D [INF] Executed endpoint '"E_Prescribing_API.Controllers.AccountController.ForgotPassword (E_Prescribing_API)"' (99874f2b)
2025-11-04T13:57:27.2544242+02:00 0HNGRJ4UMQTUU:0000000D [INF] Request finished "HTTP/2" "POST" "https"://"localhost:7150""""/api/Account/ForgotPassword""" - 500 null "text/plain; charset=utf-8" 5601.2181ms (74253ad3)
2025-11-04T14:05:06.3998168+02:00  [INF] User profile is available. Using '"C:\Users\ThatoTs\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2025-11-04T14:05:06.6955763+02:00  [INF] Now listening on: "https://localhost:7150" (d826f4b8)
2025-11-04T14:05:06.6971666+02:00  [INF] Now listening on: "http://localhost:5031" (d826f4b8)
2025-11-04T14:05:06.7353825+02:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2025-11-04T14:05:06.7371925+02:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2025-11-04T14:05:06.7383928+02:00  [INF] Content root path: "D:\HomeSpace\E_Prescribing_API\E_Prescribing_API" (cc26f24e)
2025-11-04T14:05:07.6367419+02:00 0HNGRJ9IHCVA9:00000003 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger""" - null null (d509f86a)
2025-11-04T14:05:07.8415378+02:00 0HNGRJ9IHCVA9:00000003 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger""" - 301 0 null 212.404ms (74253ad3)
2025-11-04T14:05:07.8487786+02:00 0HNGRJ9IHCVA9:00000005 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/index.html""" - null null (d509f86a)
2025-11-04T14:05:07.9193174+02:00 0HNGRJ9IHCVA9:00000005 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 70.6941ms (74253ad3)
2025-11-04T14:05:07.9442687+02:00 0HNGRJ9IHCVA9:00000007 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/_vs/browserLink""" - null null (d509f86a)
2025-11-04T14:05:07.9472966+02:00 0HNGRJ9IHCVA9:00000009 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/_framework/aspnetcore-browser-refresh.js""" - null null (d509f86a)
2025-11-04T14:05:07.9578284+02:00 0HNGRJ9IHCVA9:00000009 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/_framework/aspnetcore-browser-refresh.js""" - 200 13770 "application/javascript; charset=utf-8" 10.8033ms (74253ad3)
2025-11-04T14:05:07.9961251+02:00 0HNGRJ9IHCVA9:00000007 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 51.899ms (74253ad3)
2025-11-04T14:05:08.0688823+02:00 0HNGRJ9IHCVA9:0000000B [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/v1/swagger.json""" - null null (d509f86a)
2025-11-04T14:05:08.1953971+02:00 0HNGRJ9IHCVA9:0000000B [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 126.7893ms (74253ad3)
2025-11-04T14:06:02.4266525+02:00 0HNGRJ9IHCVA9:0000000D [INF] Request starting "HTTP/2" "POST" "https"://"localhost:7150""""/api/Account/ResetPassword""" - "application/json" 90 (d509f86a)
2025-11-04T14:06:02.4486063+02:00 0HNGRJ9IHCVA9:0000000D [INF] Executing endpoint '"E_Prescribing_API.Controllers.AccountController.ResetPassword (E_Prescribing_API)"' (500cc934)
2025-11-04T14:06:02.4938837+02:00 0HNGRJ9IHCVA9:0000000D [INF] Route matched with "{action = \"ResetPassword\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResetPassword(E_Prescribing_API.CollectionModel.ResetPasswordCollection)" on controller "E_Prescribing_API.Controllers.AccountController" ("E_Prescribing_API"). (122b2fdf)
2025-11-04T14:06:04.3658109+02:00 0HNGRJ9IHCVA9:0000000D [INF] Executed DbCommand ("72"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0" (0723d8ff)
2025-11-04T14:06:04.4871465+02:00 0HNGRJ9IHCVA9:0000000D [WRN] Failed to reset password for "tshomathato1@gmail.com": "Microsoft.AspNetCore.Identity.IdentityError" (ce49af54)
2025-11-04T14:06:04.4931257+02:00 0HNGRJ9IHCVA9:0000000D [INF] Executing "BadRequestObjectResult", writing value of type '"System.String"'. (605b4265)
2025-11-04T14:06:04.5026327+02:00 0HNGRJ9IHCVA9:0000000D [INF] Executed action "E_Prescribing_API.Controllers.AccountController.ResetPassword (E_Prescribing_API)" in 1999.8865ms (afa2e885)
2025-11-04T14:06:04.5030490+02:00 0HNGRJ9IHCVA9:0000000D [INF] Executed endpoint '"E_Prescribing_API.Controllers.AccountController.ResetPassword (E_Prescribing_API)"' (99874f2b)
2025-11-04T14:06:04.5116498+02:00 0HNGRJ9IHCVA9:0000000D [INF] Request finished "HTTP/2" "POST" "https"://"localhost:7150""""/api/Account/ResetPassword""" - 400 null "text/plain; charset=utf-8" 2085.2935ms (74253ad3)
2025-11-04T14:08:03.4504016+02:00  [INF] User profile is available. Using '"C:\Users\ThatoTs\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2025-11-04T14:08:03.6753233+02:00  [INF] Now listening on: "https://localhost:7150" (d826f4b8)
2025-11-04T14:08:03.6769873+02:00  [INF] Now listening on: "http://localhost:5031" (d826f4b8)
2025-11-04T14:08:03.7331331+02:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2025-11-04T14:08:03.7350872+02:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2025-11-04T14:08:03.7368877+02:00  [INF] Content root path: "D:\HomeSpace\E_Prescribing_API\E_Prescribing_API" (cc26f24e)
2025-11-04T14:08:04.5886121+02:00 0HNGRJB79C56P:00000003 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger""" - null null (d509f86a)
2025-11-04T14:08:04.7540233+02:00 0HNGRJB79C56P:00000003 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger""" - 301 0 null 166.3417ms (74253ad3)
2025-11-04T14:08:04.7619308+02:00 0HNGRJB79C56P:00000005 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/index.html""" - null null (d509f86a)
2025-11-04T14:08:04.8430387+02:00 0HNGRJB79C56P:00000005 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 81.0186ms (74253ad3)
2025-11-04T14:08:04.8589775+02:00 0HNGRJB79C56P:00000007 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/_vs/browserLink""" - null null (d509f86a)
2025-11-04T14:08:04.8596337+02:00 0HNGRJB79C56P:00000009 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/_framework/aspnetcore-browser-refresh.js""" - null null (d509f86a)
2025-11-04T14:08:04.8713840+02:00 0HNGRJB79C56P:00000009 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/_framework/aspnetcore-browser-refresh.js""" - 200 13770 "application/javascript; charset=utf-8" 11.6894ms (74253ad3)
2025-11-04T14:08:04.9149495+02:00 0HNGRJB79C56P:00000007 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 55.9462ms (74253ad3)
2025-11-04T14:08:04.9863106+02:00 0HNGRJB79C56P:0000000B [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/v1/swagger.json""" - null null (d509f86a)
2025-11-04T14:08:05.0770552+02:00 0HNGRJB79C56P:0000000B [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 90.7225ms (74253ad3)
2025-11-04T14:09:23.9819485+02:00 0HNGRJB79C56P:0000000D [INF] Request starting "HTTP/2" "POST" "https"://"localhost:7150""""/api/Account/ResetPassword""" - "application/json" 90 (d509f86a)
2025-11-04T14:09:23.9879712+02:00 0HNGRJB79C56P:0000000D [INF] Executing endpoint '"E_Prescribing_API.Controllers.AccountController.ResetPassword (E_Prescribing_API)"' (500cc934)
2025-11-04T14:09:24.0145981+02:00 0HNGRJB79C56P:0000000D [INF] Route matched with "{action = \"ResetPassword\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResetPassword(E_Prescribing_API.CollectionModel.ResetPasswordCollection)" on controller "E_Prescribing_API.Controllers.AccountController" ("E_Prescribing_API"). (122b2fdf)
2025-11-04T14:09:25.2031161+02:00 0HNGRJB79C56P:0000000D [INF] Executed DbCommand ("48"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0" (0723d8ff)
2025-11-04T14:10:23.1967079+02:00 0HNGRJB79C56P:0000000D [WRN] Failed to reset password for "tshomathato1@gmail.com": "Microsoft.AspNetCore.Identity.IdentityError" (ce49af54)
2025-11-04T14:10:23.2018743+02:00 0HNGRJB79C56P:0000000D [INF] Executing "BadRequestObjectResult", writing value of type '"System.String"'. (605b4265)
2025-11-04T14:10:23.2049975+02:00 0HNGRJB79C56P:0000000D [INF] Executed action "E_Prescribing_API.Controllers.AccountController.ResetPassword (E_Prescribing_API)" in 59187.8664ms (afa2e885)
2025-11-04T14:10:23.2053868+02:00 0HNGRJB79C56P:0000000D [INF] Executed endpoint '"E_Prescribing_API.Controllers.AccountController.ResetPassword (E_Prescribing_API)"' (99874f2b)
2025-11-04T14:10:23.2106408+02:00 0HNGRJB79C56P:0000000D [INF] Request finished "HTTP/2" "POST" "https"://"localhost:7150""""/api/Account/ResetPassword""" - 400 null "text/plain; charset=utf-8" 59228.9956ms (74253ad3)
2025-11-04T14:11:56.8128099+02:00 0HNGRJB79C56Q:00000003 [INF] Request starting "HTTP/2" "POST" "https"://"localhost:7150""""/api/Account/ResetPassword""" - "application/json" 168 (d509f86a)
2025-11-04T14:11:56.8157631+02:00 0HNGRJB79C56Q:00000003 [INF] Executing endpoint '"E_Prescribing_API.Controllers.AccountController.ResetPassword (E_Prescribing_API)"' (500cc934)
2025-11-04T14:11:56.8160127+02:00 0HNGRJB79C56Q:00000003 [INF] Route matched with "{action = \"ResetPassword\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResetPassword(E_Prescribing_API.CollectionModel.ResetPasswordCollection)" on controller "E_Prescribing_API.Controllers.AccountController" ("E_Prescribing_API"). (122b2fdf)
2025-11-04T14:11:56.8889668+02:00 0HNGRJB79C56Q:00000003 [INF] Executed DbCommand ("14"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0" (0723d8ff)
2025-11-04T14:12:09.4266673+02:00 0HNGRJB79C56Q:00000003 [WRN] Failed to reset password for "tshomathato1@gmail.com": "Microsoft.AspNetCore.Identity.IdentityError" (ce49af54)
2025-11-04T14:12:09.4313707+02:00 0HNGRJB79C56Q:00000003 [INF] Executing "BadRequestObjectResult", writing value of type '"System.String"'. (605b4265)
2025-11-04T14:12:09.4316175+02:00 0HNGRJB79C56Q:00000003 [INF] Executed action "E_Prescribing_API.Controllers.AccountController.ResetPassword (E_Prescribing_API)" in 12615.5335ms (afa2e885)
2025-11-04T14:12:09.4316530+02:00 0HNGRJB79C56Q:00000003 [INF] Executed endpoint '"E_Prescribing_API.Controllers.AccountController.ResetPassword (E_Prescribing_API)"' (99874f2b)
2025-11-04T14:12:09.4318508+02:00 0HNGRJB79C56Q:00000003 [INF] Request finished "HTTP/2" "POST" "https"://"localhost:7150""""/api/Account/ResetPassword""" - 400 null "text/plain; charset=utf-8" 12619.0651ms (74253ad3)
2025-11-04T14:13:17.0037104+02:00 0HNGRJB79C56Q:00000005 [INF] Request starting "HTTP/2" "POST" "https"://"localhost:7150""""/api/Account/ResetPassword""" - "application/json" 92 (d509f86a)
2025-11-04T14:13:17.0039815+02:00 0HNGRJB79C56Q:00000005 [INF] Executing endpoint '"E_Prescribing_API.Controllers.AccountController.ResetPassword (E_Prescribing_API)"' (500cc934)
2025-11-04T14:13:17.0040969+02:00 0HNGRJB79C56Q:00000005 [INF] Route matched with "{action = \"ResetPassword\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResetPassword(E_Prescribing_API.CollectionModel.ResetPasswordCollection)" on controller "E_Prescribing_API.Controllers.AccountController" ("E_Prescribing_API"). (122b2fdf)
2025-11-04T14:13:17.0377504+02:00 0HNGRJB79C56Q:00000005 [INF] Executed DbCommand ("12"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0" (0723d8ff)
2025-11-04T14:13:17.0428263+02:00 0HNGRJB79C56Q:00000005 [WRN] Failed to reset password for "tshomathato1@gmail.com": "Microsoft.AspNetCore.Identity.IdentityError" (ce49af54)
2025-11-04T14:13:17.0430088+02:00 0HNGRJB79C56Q:00000005 [INF] Executing "BadRequestObjectResult", writing value of type '"System.String"'. (605b4265)
2025-11-04T14:13:17.0431584+02:00 0HNGRJB79C56Q:00000005 [INF] Executed action "E_Prescribing_API.Controllers.AccountController.ResetPassword (E_Prescribing_API)" in 39.0294ms (afa2e885)
2025-11-04T14:13:17.0431849+02:00 0HNGRJB79C56Q:00000005 [INF] Executed endpoint '"E_Prescribing_API.Controllers.AccountController.ResetPassword (E_Prescribing_API)"' (99874f2b)
2025-11-04T14:13:17.0433138+02:00 0HNGRJB79C56Q:00000005 [INF] Request finished "HTTP/2" "POST" "https"://"localhost:7150""""/api/Account/ResetPassword""" - 400 null "text/plain; charset=utf-8" 39.6134ms (74253ad3)
2025-11-04T14:17:39.2046221+02:00 0HNGRJB79C56R:00000003 [INF] Request starting "HTTP/2" "POST" "https"://"localhost:7150""""/api/Account/ForgotPassword""" - "application/json" 39 (d509f86a)
2025-11-04T14:17:39.2049549+02:00 0HNGRJB79C56R:00000003 [INF] Executing endpoint '"E_Prescribing_API.Controllers.AccountController.ForgotPassword (E_Prescribing_API)"' (500cc934)
2025-11-04T14:17:39.2136578+02:00 0HNGRJB79C56R:00000003 [INF] Route matched with "{action = \"ForgotPassword\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ForgotPassword(E_Prescribing_API.CollectionModel.ForgotPasswordCollection)" on controller "E_Prescribing_API.Controllers.AccountController" ("E_Prescribing_API"). (122b2fdf)
2025-11-04T14:17:39.2346192+02:00 0HNGRJB79C56R:00000003 [INF] Executed DbCommand ("13"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0" (0723d8ff)
2025-11-04T14:19:22.2154337+02:00 0HNGRJB79C56R:00000003 [ERR] Error while processing forgot password for "tshomathato1@gmail.com" (31d461c6)
System.ArgumentNullException: Value cannot be null. (Parameter 'logger')
   at System.ThrowHelper.Throw(String paramName)
   at Microsoft.Extensions.Logging.LoggerExtensions.Log(ILogger logger, LogLevel logLevel, EventId eventId, Exception exception, String message, Object[] args)
   at Microsoft.Extensions.Logging.LoggerExtensions.LogError(ILogger logger, Exception exception, String message, Object[] args)
   at E_Prescribing_API.Data.Services.EmailSender.SendEmailAsync(String email, String subject, String htmlMessage) in D:\HomeSpace\E_Prescribing_API\E_Prescribing_API\Data\Services\EmailSender.cs:line 52
   at E_Prescribing_API.Controllers.AccountController.ForgotPassword(ForgotPasswordCollection model) in D:\HomeSpace\E_Prescribing_API\E_Prescribing_API\Controllers\AccountController.cs:line 416
2025-11-04T14:19:22.2156926+02:00 0HNGRJB79C56R:00000003 [INF] Executing "ObjectResult", writing value of type '"System.String"'. (605b4265)
2025-11-04T14:19:22.2157810+02:00 0HNGRJB79C56R:00000003 [INF] Executed action "E_Prescribing_API.Controllers.AccountController.ForgotPassword (E_Prescribing_API)" in 103002.0689ms (afa2e885)
2025-11-04T14:19:22.2158269+02:00 0HNGRJB79C56R:00000003 [INF] Executed endpoint '"E_Prescribing_API.Controllers.AccountController.ForgotPassword (E_Prescribing_API)"' (99874f2b)
2025-11-04T14:19:22.2160342+02:00 0HNGRJB79C56R:00000003 [INF] Request finished "HTTP/2" "POST" "https"://"localhost:7150""""/api/Account/ForgotPassword""" - 500 null "text/plain; charset=utf-8" 103011.5694ms (74253ad3)
2025-11-04T14:19:47.8756890+02:00 0HNGRJB79C56S:00000003 [INF] Request starting "HTTP/2" "POST" "https"://"localhost:7150""""/api/Account/ResetPassword""" - "application/json" 284 (d509f86a)
2025-11-04T14:19:47.8769609+02:00 0HNGRJB79C56S:00000003 [INF] Executing endpoint '"E_Prescribing_API.Controllers.AccountController.ResetPassword (E_Prescribing_API)"' (500cc934)
2025-11-04T14:19:47.8794638+02:00 0HNGRJB79C56S:00000003 [INF] Route matched with "{action = \"ResetPassword\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResetPassword(E_Prescribing_API.CollectionModel.ResetPasswordCollection)" on controller "E_Prescribing_API.Controllers.AccountController" ("E_Prescribing_API"). (122b2fdf)
2025-11-04T14:19:47.8897795+02:00 0HNGRJB79C56S:00000003 [INF] Executed DbCommand ("5"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0" (0723d8ff)
2025-11-04T14:19:47.8935145+02:00 0HNGRJB79C56S:00000003 [WRN] Failed to reset password for "tshomathato1@gmail.com": "Microsoft.AspNetCore.Identity.IdentityError" (ce49af54)
2025-11-04T14:19:47.8936541+02:00 0HNGRJB79C56S:00000003 [INF] Executing "BadRequestObjectResult", writing value of type '"System.String"'. (605b4265)
2025-11-04T14:19:47.8937304+02:00 0HNGRJB79C56S:00000003 [INF] Executed action "E_Prescribing_API.Controllers.AccountController.ResetPassword (E_Prescribing_API)" in 14.219ms (afa2e885)
2025-11-04T14:19:47.8937551+02:00 0HNGRJB79C56S:00000003 [INF] Executed endpoint '"E_Prescribing_API.Controllers.AccountController.ResetPassword (E_Prescribing_API)"' (99874f2b)
2025-11-04T14:19:47.8938764+02:00 0HNGRJB79C56S:00000003 [INF] Request finished "HTTP/2" "POST" "https"://"localhost:7150""""/api/Account/ResetPassword""" - 400 null "text/plain; charset=utf-8" 18.1914ms (74253ad3)
2025-11-04T14:20:15.5597907+02:00 0HNGRJB79C56S:00000005 [INF] Request starting "HTTP/2" "POST" "https"://"localhost:7150""""/api/Account/ResetPassword""" - "application/json" 284 (d509f86a)
2025-11-04T14:20:15.5635821+02:00 0HNGRJB79C56S:00000005 [INF] Executing endpoint '"E_Prescribing_API.Controllers.AccountController.ResetPassword (E_Prescribing_API)"' (500cc934)
2025-11-04T14:20:15.5645508+02:00 0HNGRJB79C56S:00000005 [INF] Route matched with "{action = \"ResetPassword\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResetPassword(E_Prescribing_API.CollectionModel.ResetPasswordCollection)" on controller "E_Prescribing_API.Controllers.AccountController" ("E_Prescribing_API"). (122b2fdf)
2025-11-04T14:20:15.5723355+02:00 0HNGRJB79C56S:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0" (0723d8ff)
2025-11-04T14:20:15.5766254+02:00 0HNGRJB79C56S:00000005 [WRN] Failed to reset password for "tshomathato1@gmail.com": "Microsoft.AspNetCore.Identity.IdentityError" (ce49af54)
2025-11-04T14:20:15.5768468+02:00 0HNGRJB79C56S:00000005 [INF] Executing "BadRequestObjectResult", writing value of type '"System.String"'. (605b4265)
2025-11-04T14:20:15.5770778+02:00 0HNGRJB79C56S:00000005 [INF] Executed action "E_Prescribing_API.Controllers.AccountController.ResetPassword (E_Prescribing_API)" in 12.4722ms (afa2e885)
2025-11-04T14:20:15.5771947+02:00 0HNGRJB79C56S:00000005 [INF] Executed endpoint '"E_Prescribing_API.Controllers.AccountController.ResetPassword (E_Prescribing_API)"' (99874f2b)
2025-11-04T14:20:15.5774416+02:00 0HNGRJB79C56S:00000005 [INF] Request finished "HTTP/2" "POST" "https"://"localhost:7150""""/api/Account/ResetPassword""" - 400 null "text/plain; charset=utf-8" 17.7584ms (74253ad3)
2025-11-04T14:30:11.1009116+02:00 0HNGRJB79C56T:00000003 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/reset-password""?email" - null null (d509f86a)
2025-11-04T14:30:11.1157456+02:00 0HNGRJB79C56T:00000003 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/reset-password""?email" - 404 0 null 14.7752ms (74253ad3)
2025-11-04T14:30:11.1163075+02:00 0HNGRJB79C56T:00000003 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: "GET" "https"://"localhost:7150""""/reset-password", Response status code: 404 (e353595a)
2025-11-04T14:31:27.3178067+02:00  [INF] User profile is available. Using '"C:\Users\ThatoTs\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2025-11-04T14:31:27.5324336+02:00  [INF] Now listening on: "https://localhost:7150" (d826f4b8)
2025-11-04T14:31:27.5350537+02:00  [INF] Now listening on: "http://localhost:5031" (d826f4b8)
2025-11-04T14:31:27.5979134+02:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2025-11-04T14:31:27.6003510+02:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2025-11-04T14:31:27.6022940+02:00  [INF] Content root path: "D:\HomeSpace\E_Prescribing_API\E_Prescribing_API" (cc26f24e)
2025-11-04T14:31:29.0164412+02:00 0HNGRJO9L6SU5:00000003 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger""" - null null (d509f86a)
2025-11-04T14:31:29.2351045+02:00 0HNGRJO9L6SU5:00000003 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger""" - 301 0 null 225.6159ms (74253ad3)
2025-11-04T14:31:29.2625431+02:00 0HNGRJO9L6SU5:00000005 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/index.html""" - null null (d509f86a)
2025-11-04T14:31:29.3889624+02:00 0HNGRJO9L6SU5:00000005 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 126.5426ms (74253ad3)
2025-11-04T14:31:29.4777550+02:00 0HNGRJO9L6SU5:00000007 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/_framework/aspnetcore-browser-refresh.js""" - null null (d509f86a)
2025-11-04T14:31:29.4852159+02:00 0HNGRJO9L6SU5:00000007 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/_framework/aspnetcore-browser-refresh.js""" - 200 13770 "application/javascript; charset=utf-8" 8.4898ms (74253ad3)
2025-11-04T14:31:29.4934173+02:00 0HNGRJO9L6SU5:00000009 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/swagger-ui.css""" - null null (d509f86a)
2025-11-04T14:31:29.4959811+02:00 0HNGRJO9L6SU5:0000000B [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/_vs/browserLink""" - null null (d509f86a)
2025-11-04T14:31:29.5133198+02:00 0HNGRJO9L6SU5:00000009 [INF] Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"' (27b0a520)
2025-11-04T14:31:29.5135055+02:00 0HNGRJO9L6SU5:00000009 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/swagger-ui.css""" - 499 152034 "text/css" 20.4829ms (74253ad3)
2025-11-04T14:31:29.5593490+02:00 0HNGRJO9L6SU5:0000000B [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 63.6246ms (74253ad3)
2025-11-04T14:31:29.6896525+02:00 0HNGRJO9L6SU5:0000000D [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/favicon-16x16.png""" - null null (d509f86a)
2025-11-04T14:31:29.6914180+02:00 0HNGRJO9L6SU5:0000000D [INF] Sending file. Request path: '"/favicon-16x16.png"'. Physical path: '"N/A"' (27b0a520)
2025-11-04T14:31:29.6915709+02:00 0HNGRJO9L6SU5:0000000D [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/favicon-16x16.png""" - 499 665 "image/png" 2.7677ms (74253ad3)
2025-11-04T14:31:29.7289379+02:00 0HNGRJO9L6SU5:0000000F [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/v1/swagger.json""" - null null (d509f86a)
2025-11-04T14:31:29.8698147+02:00 0HNGRJO9L6SU5:0000000F [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 141.1911ms (74253ad3)
2025-11-04T14:31:58.1569999+02:00 0HNGRJO9L6SU5:00000011 [INF] Request starting "HTTP/2" "POST" "https"://"localhost:7150""""/api/Account/ForgotPassword""" - "application/json" 39 (d509f86a)
2025-11-04T14:31:58.1613659+02:00 0HNGRJO9L6SU5:00000011 [INF] Executing endpoint '"E_Prescribing_API.Controllers.AccountController.ForgotPassword (E_Prescribing_API)"' (500cc934)
2025-11-04T14:31:58.1842952+02:00 0HNGRJO9L6SU5:00000011 [INF] Route matched with "{action = \"ForgotPassword\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ForgotPassword(E_Prescribing_API.CollectionModel.ForgotPasswordCollection)" on controller "E_Prescribing_API.Controllers.AccountController" ("E_Prescribing_API"). (122b2fdf)
2025-11-04T14:31:59.8003013+02:00 0HNGRJO9L6SU5:00000011 [INF] Executed DbCommand ("51"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0" (0723d8ff)
2025-11-04T14:34:34.8137336+02:00  [INF] User profile is available. Using '"C:\Users\ThatoTs\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2025-11-04T14:34:35.0945094+02:00  [INF] Now listening on: "https://localhost:7150" (d826f4b8)
2025-11-04T14:34:35.0970767+02:00  [INF] Now listening on: "http://localhost:5031" (d826f4b8)
2025-11-04T14:34:35.1474891+02:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2025-11-04T14:34:35.1490067+02:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2025-11-04T14:34:35.1501641+02:00  [INF] Content root path: "D:\HomeSpace\E_Prescribing_API\E_Prescribing_API" (cc26f24e)
2025-11-04T14:34:37.4125716+02:00 0HNGRJQ1L9TLF:00000003 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger""" - null null (d509f86a)
2025-11-04T14:34:37.6395308+02:00 0HNGRJQ1L9TLF:00000003 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger""" - 301 0 null 234.803ms (74253ad3)
2025-11-04T14:34:37.6788449+02:00 0HNGRJQ1L9TLF:00000005 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/index.html""" - null null (d509f86a)
2025-11-04T14:34:37.7751561+02:00 0HNGRJQ1L9TLF:00000005 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 96.4007ms (74253ad3)
2025-11-04T14:34:37.8843641+02:00 0HNGRJQ1L9TLF:00000007 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/_framework/aspnetcore-browser-refresh.js""" - null null (d509f86a)
2025-11-04T14:34:37.8885079+02:00 0HNGRJQ1L9TLF:00000007 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/_framework/aspnetcore-browser-refresh.js""" - 200 13770 "application/javascript; charset=utf-8" 4.5076ms (74253ad3)
2025-11-04T14:34:37.9060460+02:00 0HNGRJQ1L9TLF:00000009 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/swagger-ui.css""" - null null (d509f86a)
2025-11-04T14:34:37.9076127+02:00 0HNGRJQ1L9TLF:0000000B [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/_vs/browserLink""" - null null (d509f86a)
2025-11-04T14:34:37.9227906+02:00 0HNGRJQ1L9TLF:00000009 [INF] Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"' (27b0a520)
2025-11-04T14:34:37.9230996+02:00 0HNGRJQ1L9TLF:00000009 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/swagger-ui.css""" - 499 152034 "text/css" 17.1325ms (74253ad3)
2025-11-04T14:34:37.9531967+02:00 0HNGRJQ1L9TLF:0000000B [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 45.846ms (74253ad3)
2025-11-04T14:34:38.0832407+02:00 0HNGRJQ1L9TLF:0000000D [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/favicon-16x16.png""" - null null (d509f86a)
2025-11-04T14:34:38.0847301+02:00 0HNGRJQ1L9TLF:0000000D [INF] Sending file. Request path: '"/favicon-16x16.png"'. Physical path: '"N/A"' (27b0a520)
2025-11-04T14:34:38.0848330+02:00 0HNGRJQ1L9TLF:0000000D [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/favicon-16x16.png""" - 499 665 "image/png" 1.6458ms (74253ad3)
2025-11-04T14:34:38.1628544+02:00 0HNGRJQ1L9TLF:0000000F [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/v1/swagger.json""" - null null (d509f86a)
2025-11-04T14:34:38.2651692+02:00 0HNGRJQ1L9TLF:0000000F [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 102.4478ms (74253ad3)
2025-11-04T14:35:01.9974865+02:00 0HNGRJQ1L9TLF:00000011 [INF] Request starting "HTTP/2" "POST" "https"://"localhost:7150""""/api/Account/AdminResetPassword/5""" - null 0 (d509f86a)
2025-11-04T14:35:02.0084216+02:00 0HNGRJQ1L9TLF:00000011 [INF] Executing endpoint '"E_Prescribing_API.Controllers.AccountController.AdminResetPassword (E_Prescribing_API)"' (500cc934)
2025-11-04T14:35:02.0302436+02:00 0HNGRJQ1L9TLF:00000011 [INF] Route matched with "{action = \"AdminResetPassword\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdminResetPassword(Int32)" on controller "E_Prescribing_API.Controllers.AccountController" ("E_Prescribing_API"). (122b2fdf)
2025-11-04T14:35:03.6476039+02:00 0HNGRJQ1L9TLF:00000011 [INF] Executed DbCommand ("58"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0" (0723d8ff)
2025-11-04T14:35:03.8732301+02:00 0HNGRJQ1L9TLF:00000011 [INF] Executed DbCommand ("5"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2025-11-04T14:35:04.0089685+02:00 0HNGRJQ1L9TLF:00000011 [INF] Executed DbCommand ("18"ms) [Parameters=["@p14='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p15='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [SecurityStamp] = @p11, [TwoFactorEnabled] = @p12, [UserName] = @p13
OUTPUT 1
WHERE [Id] = @p14 AND [ConcurrencyStamp] = @p15;" (0723d8ff)
2025-11-04T14:35:07.6200818+02:00 0HNGRJQ1L9TLF:00000011 [ERR] Error while resetting password for user 5 (2857af9a)
System.ArgumentNullException: Value cannot be null. (Parameter 'logger')
   at System.ThrowHelper.Throw(String paramName)
   at Microsoft.Extensions.Logging.LoggerExtensions.Log(ILogger logger, LogLevel logLevel, EventId eventId, Exception exception, String message, Object[] args)
   at Microsoft.Extensions.Logging.LoggerExtensions.LogError(ILogger logger, Exception exception, String message, Object[] args)
   at E_Prescribing_API.Data.Services.EmailSender.SendEmailAsync(String email, String subject, String htmlMessage) in D:\HomeSpace\E_Prescribing_API\E_Prescribing_API\Data\Services\EmailSender.cs:line 52
   at E_Prescribing_API.Controllers.AccountController.AdminResetPassword(Int32 id) in D:\HomeSpace\E_Prescribing_API\E_Prescribing_API\Controllers\AccountController.cs:line 485
2025-11-04T14:35:07.6263528+02:00 0HNGRJQ1L9TLF:00000011 [INF] Executing "ObjectResult", writing value of type '"System.String"'. (605b4265)
2025-11-04T14:35:07.6310388+02:00 0HNGRJQ1L9TLF:00000011 [INF] Executed action "E_Prescribing_API.Controllers.AccountController.AdminResetPassword (E_Prescribing_API)" in 5597.0156ms (afa2e885)
2025-11-04T14:35:07.6315518+02:00 0HNGRJQ1L9TLF:00000011 [INF] Executed endpoint '"E_Prescribing_API.Controllers.AccountController.AdminResetPassword (E_Prescribing_API)"' (99874f2b)
2025-11-04T14:35:07.6391235+02:00 0HNGRJQ1L9TLF:00000011 [INF] Request finished "HTTP/2" "POST" "https"://"localhost:7150""""/api/Account/AdminResetPassword/5""" - 500 null "text/plain; charset=utf-8" 5642.0298ms (74253ad3)
2025-11-04T16:04:33.6508486+02:00  [INF] User profile is available. Using '"C:\Users\ThatoTs\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2025-11-04T16:04:33.9043304+02:00  [INF] Now listening on: "https://localhost:7150" (d826f4b8)
2025-11-04T16:04:33.9068498+02:00  [INF] Now listening on: "http://localhost:5031" (d826f4b8)
2025-11-04T16:04:33.9537957+02:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2025-11-04T16:04:33.9571961+02:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2025-11-04T16:04:33.9593224+02:00  [INF] Content root path: "D:\HomeSpace\E_Prescribing_API\E_Prescribing_API" (cc26f24e)
2025-11-04T16:04:34.8458879+02:00 0HNGRLCAIK2ET:00000003 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger""" - null null (d509f86a)
2025-11-04T16:04:35.0508453+02:00 0HNGRLCAIK2ET:00000003 [INF] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed" (48071232)
2025-11-04T16:04:35.0557731+02:00 0HNGRLCAIK2ET:00000003 [INF] "Identity.BearerAndApplication" was not authenticated. Failure message: "Unprotect ticket failed" (48071232)
2025-11-04T16:04:35.0723977+02:00 0HNGRLCAIK2ET:00000003 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger""" - 301 0 null 232.9756ms (74253ad3)
2025-11-04T16:04:35.0797375+02:00 0HNGRLCAIK2ET:00000005 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/index.html""" - null null (d509f86a)
2025-11-04T16:04:35.0884052+02:00 0HNGRLCAIK2ET:00000005 [INF] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed" (48071232)
2025-11-04T16:04:35.0906934+02:00 0HNGRLCAIK2ET:00000005 [INF] "Identity.BearerAndApplication" was not authenticated. Failure message: "Unprotect ticket failed" (48071232)
2025-11-04T16:04:35.1505111+02:00 0HNGRLCAIK2ET:00000005 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 70.8425ms (74253ad3)
2025-11-04T16:04:35.1728301+02:00 0HNGRLCAIK2ET:00000007 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/_framework/aspnetcore-browser-refresh.js""" - null null (d509f86a)
2025-11-04T16:04:35.1733073+02:00 0HNGRLCAIK2ET:00000009 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/swagger-ui.css""" - null null (d509f86a)
2025-11-04T16:04:35.1754794+02:00 0HNGRLCAIK2ET:00000009 [INF] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed" (48071232)
2025-11-04T16:04:35.1790627+02:00 0HNGRLCAIK2ET:00000009 [INF] "Identity.BearerAndApplication" was not authenticated. Failure message: "Unprotect ticket failed" (48071232)
2025-11-04T16:04:35.1813135+02:00 0HNGRLCAIK2ET:0000000B [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/_vs/browserLink""" - null null (d509f86a)
2025-11-04T16:04:35.1837174+02:00 0HNGRLCAIK2ET:00000007 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/_framework/aspnetcore-browser-refresh.js""" - 200 13770 "application/javascript; charset=utf-8" 11.1884ms (74253ad3)
2025-11-04T16:04:35.1977485+02:00 0HNGRLCAIK2ET:00000009 [INF] Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"' (27b0a520)
2025-11-04T16:04:35.1980769+02:00 0HNGRLCAIK2ET:00000009 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/swagger-ui.css""" - 499 152034 "text/css" 24.776ms (74253ad3)
2025-11-04T16:04:35.2306757+02:00 0HNGRLCAIK2ET:0000000B [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 49.9876ms (74253ad3)
2025-11-04T16:04:35.2698306+02:00 0HNGRLCAIK2ET:0000000D [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/favicon-16x16.png""" - null null (d509f86a)
2025-11-04T16:04:35.2709326+02:00 0HNGRLCAIK2ET:0000000D [INF] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed" (48071232)
2025-11-04T16:04:35.2741507+02:00 0HNGRLCAIK2ET:0000000D [INF] "Identity.BearerAndApplication" was not authenticated. Failure message: "Unprotect ticket failed" (48071232)
2025-11-04T16:04:35.2755479+02:00 0HNGRLCAIK2ET:0000000D [INF] Sending file. Request path: '"/favicon-16x16.png"'. Physical path: '"N/A"' (27b0a520)
2025-11-04T16:04:35.2757985+02:00 0HNGRLCAIK2ET:0000000D [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/favicon-16x16.png""" - 499 665 "image/png" 6.1569ms (74253ad3)
2025-11-04T16:04:35.3168389+02:00 0HNGRLCAIK2ET:0000000F [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/v1/swagger.json""" - null null (d509f86a)
2025-11-04T16:04:35.3176115+02:00 0HNGRLCAIK2ET:0000000F [INF] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed" (48071232)
2025-11-04T16:04:35.3209615+02:00 0HNGRLCAIK2ET:0000000F [INF] "Identity.BearerAndApplication" was not authenticated. Failure message: "Unprotect ticket failed" (48071232)
2025-11-04T16:04:35.4581395+02:00 0HNGRLCAIK2ET:0000000F [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 141.5002ms (74253ad3)
2025-11-04T16:05:26.8635061+02:00  [INF] Executed DbCommand ("12"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2025-11-04T16:05:26.8847188+02:00  [INF] Executed DbCommand ("12"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2025-11-04T16:05:26.8866737+02:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2025-11-04T16:05:26.8880313+02:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2025-11-04T16:05:26.9022675+02:00  [INF] Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];" (0723d8ff)
2025-11-04T16:05:26.9127845+02:00  [INF] Applying migration '"20251104140514_addProvinces"'. (0e2ac64d)
2025-11-04T16:05:26.9923786+02:00  [INF] Executed DbCommand ("11"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [Provinces] (
    [ProvinceId] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Provinces] PRIMARY KEY ([ProvinceId])
);" (0723d8ff)
2025-11-04T16:05:26.9960885+02:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [Cities] (
    [CityId] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    [ProvinceId] int NOT NULL,
    CONSTRAINT [PK_Cities] PRIMARY KEY ([CityId]),
    CONSTRAINT [FK_Cities_Provinces_ProvinceId] FOREIGN KEY ([ProvinceId]) REFERENCES [Provinces] ([ProvinceId]) ON DELETE CASCADE
);" (0723d8ff)
2025-11-04T16:05:27.0013618+02:00  [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [Suburbs] (
    [SuburbId] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    [PostalCode] int NOT NULL,
    [CityId] int NOT NULL,
    CONSTRAINT [PK_Suburbs] PRIMARY KEY ([SuburbId]),
    CONSTRAINT [FK_Suburbs_Cities_CityId] FOREIGN KEY ([CityId]) REFERENCES [Cities] ([CityId]) ON DELETE CASCADE
);" (0723d8ff)
2025-11-04T16:05:27.0128038+02:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Cities_ProvinceId] ON [Cities] ([ProvinceId]);" (0723d8ff)
2025-11-04T16:05:27.0143615+02:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Suburbs_CityId] ON [Suburbs] ([CityId]);" (0723d8ff)
2025-11-04T16:05:27.0169417+02:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251104140514_addProvinces', N'8.0.0');" (0723d8ff)
2025-11-04T16:05:35.6614552+02:00  [INF] User profile is available. Using '"C:\Users\ThatoTs\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2025-11-04T16:05:35.9557160+02:00  [INF] Now listening on: "https://localhost:7150" (d826f4b8)
2025-11-04T16:05:35.9585453+02:00  [INF] Now listening on: "http://localhost:5031" (d826f4b8)
2025-11-04T16:05:36.0463652+02:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2025-11-04T16:05:36.0491743+02:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2025-11-04T16:05:36.0514323+02:00  [INF] Content root path: "D:\HomeSpace\E_Prescribing_API\E_Prescribing_API" (cc26f24e)
2025-11-04T16:05:37.3379829+02:00 0HNGRLCT088D4:00000003 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger""" - null null (d509f86a)
2025-11-04T16:05:37.6218509+02:00 0HNGRLCT088D4:00000003 [INF] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed" (48071232)
2025-11-04T16:05:37.6300883+02:00 0HNGRLCT088D4:00000003 [INF] "Identity.BearerAndApplication" was not authenticated. Failure message: "Unprotect ticket failed" (48071232)
2025-11-04T16:05:37.6593811+02:00 0HNGRLCT088D4:00000003 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger""" - 301 0 null 331.4096ms (74253ad3)
2025-11-04T16:05:37.6836074+02:00 0HNGRLCT088D4:00000005 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/index.html""" - null null (d509f86a)
2025-11-04T16:05:37.6966139+02:00 0HNGRLCT088D4:00000005 [INF] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed" (48071232)
2025-11-04T16:05:37.7005487+02:00 0HNGRLCT088D4:00000005 [INF] "Identity.BearerAndApplication" was not authenticated. Failure message: "Unprotect ticket failed" (48071232)
2025-11-04T16:05:37.7996991+02:00 0HNGRLCT088D4:00000005 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 116.266ms (74253ad3)
2025-11-04T16:05:37.8228923+02:00 0HNGRLCT088D4:00000007 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/_vs/browserLink""" - null null (d509f86a)
2025-11-04T16:05:37.8238588+02:00 0HNGRLCT088D4:00000009 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/_framework/aspnetcore-browser-refresh.js""" - null null (d509f86a)
2025-11-04T16:05:37.8329111+02:00 0HNGRLCT088D4:00000009 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/_framework/aspnetcore-browser-refresh.js""" - 200 13770 "application/javascript; charset=utf-8" 9.3351ms (74253ad3)
2025-11-04T16:05:37.8989896+02:00 0HNGRLCT088D4:00000007 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 76.1175ms (74253ad3)
2025-11-04T16:05:38.0361663+02:00 0HNGRLCT088D4:0000000B [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/v1/swagger.json""" - null null (d509f86a)
2025-11-04T16:05:38.0393157+02:00 0HNGRLCT088D4:0000000B [INF] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed" (48071232)
2025-11-04T16:05:38.0444539+02:00 0HNGRLCT088D4:0000000B [INF] "Identity.BearerAndApplication" was not authenticated. Failure message: "Unprotect ticket failed" (48071232)
2025-11-04T16:05:38.2274773+02:00 0HNGRLCT088D4:0000000B [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 191.806ms (74253ad3)
2025-11-04T16:06:00.4939046+02:00 0HNGRLCT088D4:0000000D [INF] Request starting "HTTP/2" "POST" "https"://"localhost:7150""""/api/Admin/AddProvince""" - "application/json" 42 (d509f86a)
2025-11-04T16:06:00.4961509+02:00 0HNGRLCT088D4:0000000D [INF] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed" (48071232)
2025-11-04T16:06:00.4980358+02:00 0HNGRLCT088D4:0000000D [INF] "Identity.BearerAndApplication" was not authenticated. Failure message: "Unprotect ticket failed" (48071232)
2025-11-04T16:06:00.5021982+02:00 0HNGRLCT088D4:0000000D [INF] Executing endpoint '"E_Prescribing_API.Controllers.AdminController.AddProvince (E_Prescribing_API)"' (500cc934)
2025-11-04T16:06:00.5280228+02:00 0HNGRLCT088D4:0000000D [INF] Route matched with "{action = \"AddProvince\", controller = \"Admin\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddProvince(E_Prescribing_API.Models.Province)" on controller "E_Prescribing_API.Controllers.AdminController" ("E_Prescribing_API"). (122b2fdf)
2025-11-04T16:06:02.0951106+02:00 0HNGRLCT088D4:0000000D [INF] Executed DbCommand ("55"ms) [Parameters=["@__ToLower_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [p].[ProvinceId], [p].[Name]
FROM [Provinces] AS [p]
WHERE LOWER([p].[Name]) = @__ToLower_0" (0723d8ff)
2025-11-04T16:06:02.2443374+02:00 0HNGRLCT088D4:0000000D [INF] Executed DbCommand ("8"ms) [Parameters=["@p0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Provinces] ([Name])
OUTPUT INSERTED.[ProvinceId]
VALUES (@p0);" (0723d8ff)
2025-11-04T16:06:02.2703103+02:00 0HNGRLCT088D4:0000000D [INF] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (605b4265)
2025-11-04T16:06:02.2766645+02:00 0HNGRLCT088D4:0000000D [INF] Executed action "E_Prescribing_API.Controllers.AdminController.AddProvince (E_Prescribing_API)" in 1743.9813ms (afa2e885)
2025-11-04T16:06:02.2770331+02:00 0HNGRLCT088D4:0000000D [INF] Executed endpoint '"E_Prescribing_API.Controllers.AdminController.AddProvince (E_Prescribing_API)"' (99874f2b)
2025-11-04T16:06:02.2831161+02:00 0HNGRLCT088D4:0000000D [INF] Request finished "HTTP/2" "POST" "https"://"localhost:7150""""/api/Admin/AddProvince""" - 200 null "application/json; charset=utf-8" 1789.233ms (74253ad3)
2025-11-04T16:07:21.6068109+02:00 0HNGRLCT088D4:0000000F [INF] Request starting "HTTP/2" "POST" "https"://"localhost:7150""""/api/Admin/AddProvince""" - "application/json" 42 (d509f86a)
2025-11-04T16:07:21.6083556+02:00 0HNGRLCT088D4:0000000F [INF] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed" (48071232)
2025-11-04T16:07:21.6109408+02:00 0HNGRLCT088D4:0000000F [INF] "Identity.BearerAndApplication" was not authenticated. Failure message: "Unprotect ticket failed" (48071232)
2025-11-04T16:07:21.6112715+02:00 0HNGRLCT088D4:0000000F [INF] Executing endpoint '"E_Prescribing_API.Controllers.AdminController.AddProvince (E_Prescribing_API)"' (500cc934)
2025-11-04T16:07:21.6116039+02:00 0HNGRLCT088D4:0000000F [INF] Route matched with "{action = \"AddProvince\", controller = \"Admin\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddProvince(E_Prescribing_API.Models.Province)" on controller "E_Prescribing_API.Controllers.AdminController" ("E_Prescribing_API"). (122b2fdf)
2025-11-04T16:07:21.6454347+02:00 0HNGRLCT088D4:0000000F [INF] Executed DbCommand ("13"ms) [Parameters=["@__ToLower_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [p].[ProvinceId], [p].[Name]
FROM [Provinces] AS [p]
WHERE LOWER([p].[Name]) = @__ToLower_0" (0723d8ff)
2025-11-04T16:07:21.6487256+02:00 0HNGRLCT088D4:0000000F [INF] Executing "BadRequestObjectResult", writing value of type '"System.String"'. (605b4265)
2025-11-04T16:07:21.6491341+02:00 0HNGRLCT088D4:0000000F [INF] Executed action "E_Prescribing_API.Controllers.AdminController.AddProvince (E_Prescribing_API)" in 37.4304ms (afa2e885)
2025-11-04T16:07:21.6493110+02:00 0HNGRLCT088D4:0000000F [INF] Executed endpoint '"E_Prescribing_API.Controllers.AdminController.AddProvince (E_Prescribing_API)"' (99874f2b)
2025-11-04T16:07:21.6497262+02:00 0HNGRLCT088D4:0000000F [INF] Request finished "HTTP/2" "POST" "https"://"localhost:7150""""/api/Admin/AddProvince""" - 400 null "text/plain; charset=utf-8" 43.0468ms (74253ad3)
2025-11-04T16:08:00.9141440+02:00 0HNGRLCT088D4:00000011 [INF] Request starting "HTTP/2" "POST" "https"://"localhost:7150""""/api/Admin/AddProvince""" - "application/json" 42 (d509f86a)
2025-11-04T16:08:00.9148198+02:00 0HNGRLCT088D4:00000011 [INF] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed" (48071232)
2025-11-04T16:08:00.9173450+02:00 0HNGRLCT088D4:00000011 [INF] "Identity.BearerAndApplication" was not authenticated. Failure message: "Unprotect ticket failed" (48071232)
2025-11-04T16:08:00.9175710+02:00 0HNGRLCT088D4:00000011 [INF] Executing endpoint '"E_Prescribing_API.Controllers.AdminController.AddProvince (E_Prescribing_API)"' (500cc934)
2025-11-04T16:08:00.9179173+02:00 0HNGRLCT088D4:00000011 [INF] Route matched with "{action = \"AddProvince\", controller = \"Admin\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddProvince(E_Prescribing_API.Models.Province)" on controller "E_Prescribing_API.Controllers.AdminController" ("E_Prescribing_API"). (122b2fdf)
2025-11-04T16:08:00.9830503+02:00 0HNGRLCT088D4:00000011 [INF] Executed DbCommand ("3"ms) [Parameters=["@__ToLower_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [p].[ProvinceId], [p].[Name]
FROM [Provinces] AS [p]
WHERE LOWER([p].[Name]) = @__ToLower_0" (0723d8ff)
2025-11-04T16:08:00.9837821+02:00 0HNGRLCT088D4:00000011 [INF] Executing "BadRequestObjectResult", writing value of type '"System.String"'. (605b4265)
2025-11-04T16:08:00.9840773+02:00 0HNGRLCT088D4:00000011 [INF] Executed action "E_Prescribing_API.Controllers.AdminController.AddProvince (E_Prescribing_API)" in 66.0832ms (afa2e885)
2025-11-04T16:08:00.9841352+02:00 0HNGRLCT088D4:00000011 [INF] Executed endpoint '"E_Prescribing_API.Controllers.AdminController.AddProvince (E_Prescribing_API)"' (99874f2b)
2025-11-04T16:08:00.9844128+02:00 0HNGRLCT088D4:00000011 [INF] Request finished "HTTP/2" "POST" "https"://"localhost:7150""""/api/Admin/AddProvince""" - 400 null "text/plain; charset=utf-8" 70.7304ms (74253ad3)
2025-11-04T16:13:47.1815080+02:00  [INF] User profile is available. Using '"C:\Users\ThatoTs\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2025-11-04T16:13:47.4144158+02:00  [INF] Now listening on: "https://localhost:7150" (d826f4b8)
2025-11-04T16:13:47.4161733+02:00  [INF] Now listening on: "http://localhost:5031" (d826f4b8)
2025-11-04T16:13:47.4665936+02:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2025-11-04T16:13:47.4688531+02:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2025-11-04T16:13:47.4707606+02:00  [INF] Content root path: "D:\HomeSpace\E_Prescribing_API\E_Prescribing_API" (cc26f24e)
2025-11-04T16:13:48.4011158+02:00 0HNGRLHFFIS45:00000003 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger""" - null null (d509f86a)
2025-11-04T16:13:48.5884157+02:00 0HNGRLHFFIS45:00000003 [INF] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed" (48071232)
2025-11-04T16:13:48.5936771+02:00 0HNGRLHFFIS45:00000003 [INF] "Identity.BearerAndApplication" was not authenticated. Failure message: "Unprotect ticket failed" (48071232)
2025-11-04T16:13:48.6084434+02:00 0HNGRLHFFIS45:00000003 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger""" - 301 0 null 213.4807ms (74253ad3)
2025-11-04T16:13:48.6158288+02:00 0HNGRLHFFIS45:00000005 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/index.html""" - null null (d509f86a)
2025-11-04T16:13:48.6266355+02:00 0HNGRLHFFIS45:00000005 [INF] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed" (48071232)
2025-11-04T16:13:48.6281846+02:00 0HNGRLHFFIS45:00000005 [INF] "Identity.BearerAndApplication" was not authenticated. Failure message: "Unprotect ticket failed" (48071232)
2025-11-04T16:13:48.6733411+02:00 0HNGRLHFFIS45:00000005 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 57.8345ms (74253ad3)
2025-11-04T16:13:48.6916652+02:00 0HNGRLHFFIS45:00000007 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/_vs/browserLink""" - null null (d509f86a)
2025-11-04T16:13:48.6926617+02:00 0HNGRLHFFIS45:00000009 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/_framework/aspnetcore-browser-refresh.js""" - null null (d509f86a)
2025-11-04T16:13:48.7006233+02:00 0HNGRLHFFIS45:00000009 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/_framework/aspnetcore-browser-refresh.js""" - 200 13770 "application/javascript; charset=utf-8" 8.0593ms (74253ad3)
2025-11-04T16:13:48.7404894+02:00 0HNGRLHFFIS45:00000007 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 48.858ms (74253ad3)
2025-11-04T16:13:48.8381413+02:00 0HNGRLHFFIS45:0000000B [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/v1/swagger.json""" - null null (d509f86a)
2025-11-04T16:13:48.8406975+02:00 0HNGRLHFFIS45:0000000B [INF] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed" (48071232)
2025-11-04T16:13:48.8432465+02:00 0HNGRLHFFIS45:0000000B [INF] "Identity.BearerAndApplication" was not authenticated. Failure message: "Unprotect ticket failed" (48071232)
2025-11-04T16:13:48.9655753+02:00 0HNGRLHFFIS45:0000000B [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 127.7489ms (74253ad3)
2025-11-04T16:14:59.9502514+02:00 0HNGRLHFFIS45:0000000D [INF] Request starting "HTTP/2" "POST" "https"://"localhost:7150""""/api/Admin/AddCity""" - "application/json" 125 (d509f86a)
2025-11-04T16:14:59.9613027+02:00 0HNGRLHFFIS45:0000000D [INF] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed" (48071232)
2025-11-04T16:14:59.9636148+02:00 0HNGRLHFFIS45:0000000D [INF] "Identity.BearerAndApplication" was not authenticated. Failure message: "Unprotect ticket failed" (48071232)
2025-11-04T16:14:59.9666329+02:00 0HNGRLHFFIS45:0000000D [INF] Executing endpoint '"E_Prescribing_API.Controllers.AdminController.AddCity (E_Prescribing_API)"' (500cc934)
2025-11-04T16:14:59.9832828+02:00 0HNGRLHFFIS45:0000000D [INF] Route matched with "{action = \"AddCity\", controller = \"Admin\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddCity(E_Prescribing_API.Models.City)" on controller "E_Prescribing_API.Controllers.AdminController" ("E_Prescribing_API"). (122b2fdf)
2025-11-04T16:15:01.2759601+02:00 0HNGRLHFFIS45:0000000D [INF] Executed DbCommand ("35"ms) [Parameters=["@__model_Name_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Name] = @__model_Name_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END" (0723d8ff)
2025-11-04T16:15:01.4510287+02:00 0HNGRLHFFIS45:0000000D [INF] Executed DbCommand ("25"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Cities] ([Name], [ProvinceId])
OUTPUT INSERTED.[CityId]
VALUES (@p0, @p1);" (0723d8ff)
2025-11-04T16:15:02.0448873+02:00 0HNGRLHFFIS45:0000000D [ERR] An exception occurred in the database while saving changes for context type '"E_Prescribing_API.Data.Services.ApplicationDbContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_Cities_Provinces_ProvinceId\". The conflict occurred in database \"E_Prescribing_API\", table \"dbo.Provinces\", column 'ProvinceId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:eee95bfd-fd41-494c-ad61-c88bff6c9f4b
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)" (170f029e)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Cities_Provinces_ProvinceId". The conflict occurred in database "E_Prescribing_API", table "dbo.Provinces", column 'ProvinceId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:eee95bfd-fd41-494c-ad61-c88bff6c9f4b
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-11-04T16:15:02.1105952+02:00 0HNGRLHFFIS45:0000000D [ERR] Error while adding province "Johannesburg" (1811dc6e)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Cities_Provinces_ProvinceId". The conflict occurred in database "E_Prescribing_API", table "dbo.Provinces", column 'ProvinceId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:eee95bfd-fd41-494c-ad61-c88bff6c9f4b
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at E_Prescribing_API.Controllers.AdminController.AddCity(City model) in D:\HomeSpace\E_Prescribing_API\E_Prescribing_API\Controllers\AdminController.cs:line 75
2025-11-04T16:15:02.1150146+02:00 0HNGRLHFFIS45:0000000D [INF] Executing "ObjectResult", writing value of type '"System.String"'. (605b4265)
2025-11-04T16:15:02.1179948+02:00 0HNGRLHFFIS45:0000000D [INF] Executed action "E_Prescribing_API.Controllers.AdminController.AddCity (E_Prescribing_API)" in 2132.3489ms (afa2e885)
2025-11-04T16:15:02.1182661+02:00 0HNGRLHFFIS45:0000000D [INF] Executed endpoint '"E_Prescribing_API.Controllers.AdminController.AddCity (E_Prescribing_API)"' (99874f2b)
2025-11-04T16:15:02.1259096+02:00 0HNGRLHFFIS45:0000000D [INF] Request finished "HTTP/2" "POST" "https"://"localhost:7150""""/api/Admin/AddCity""" - 500 null "text/plain; charset=utf-8" 2176.3792ms (74253ad3)
2025-11-04T16:16:39.6908120+02:00 0HNGRLHFFIS45:0000000F [INF] Request starting "HTTP/2" "POST" "https"://"localhost:7150""""/api/Admin/AddCity""" - "application/json" 125 (d509f86a)
2025-11-04T16:16:39.6956270+02:00 0HNGRLHFFIS45:0000000F [INF] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed" (48071232)
2025-11-04T16:16:39.6972012+02:00 0HNGRLHFFIS45:0000000F [INF] "Identity.BearerAndApplication" was not authenticated. Failure message: "Unprotect ticket failed" (48071232)
2025-11-04T16:16:39.6974569+02:00 0HNGRLHFFIS45:0000000F [INF] Executing endpoint '"E_Prescribing_API.Controllers.AdminController.AddCity (E_Prescribing_API)"' (500cc934)
2025-11-04T16:16:39.6978554+02:00 0HNGRLHFFIS45:0000000F [INF] Route matched with "{action = \"AddCity\", controller = \"Admin\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddCity(E_Prescribing_API.Models.City)" on controller "E_Prescribing_API.Controllers.AdminController" ("E_Prescribing_API"). (122b2fdf)
2025-11-04T16:16:39.7223366+02:00 0HNGRLHFFIS45:0000000F [INF] Executed DbCommand ("4"ms) [Parameters=["@__model_Name_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Name] = @__model_Name_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END" (0723d8ff)
2025-11-04T16:16:39.7296363+02:00 0HNGRLHFFIS45:0000000F [INF] Executed DbCommand ("3"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Cities] ([Name], [ProvinceId])
OUTPUT INSERTED.[CityId]
VALUES (@p0, @p1);" (0723d8ff)
2025-11-04T16:16:39.7398835+02:00 0HNGRLHFFIS45:0000000F [ERR] An exception occurred in the database while saving changes for context type '"E_Prescribing_API.Data.Services.ApplicationDbContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_Cities_Provinces_ProvinceId\". The conflict occurred in database \"E_Prescribing_API\", table \"dbo.Provinces\", column 'ProvinceId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:eee95bfd-fd41-494c-ad61-c88bff6c9f4b
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)" (170f029e)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Cities_Provinces_ProvinceId". The conflict occurred in database "E_Prescribing_API", table "dbo.Provinces", column 'ProvinceId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:eee95bfd-fd41-494c-ad61-c88bff6c9f4b
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at E_Prescribing_API.Controllers.AdminController.AddCity(City model) in D:\HomeSpace\E_Prescribing_API\E_Prescribing_API\Controllers\AdminController.cs:line 75
2025-11-04T16:16:39.7669491+02:00 0HNGRLHFFIS45:0000000F [ERR] Error while adding province "Johannesburg" (1811dc6e)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Cities_Provinces_ProvinceId". The conflict occurred in database "E_Prescribing_API", table "dbo.Provinces", column 'ProvinceId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:eee95bfd-fd41-494c-ad61-c88bff6c9f4b
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at E_Prescribing_API.Controllers.AdminController.AddCity(City model) in D:\HomeSpace\E_Prescribing_API\E_Prescribing_API\Controllers\AdminController.cs:line 75
2025-11-04T16:16:39.7673221+02:00 0HNGRLHFFIS45:0000000F [INF] Executing "ObjectResult", writing value of type '"System.String"'. (605b4265)
2025-11-04T16:16:39.7675260+02:00 0HNGRLHFFIS45:0000000F [INF] Executed action "E_Prescribing_API.Controllers.AdminController.AddCity (E_Prescribing_API)" in 69.6073ms (afa2e885)
2025-11-04T16:16:39.7675709+02:00 0HNGRLHFFIS45:0000000F [INF] Executed endpoint '"E_Prescribing_API.Controllers.AdminController.AddCity (E_Prescribing_API)"' (99874f2b)
2025-11-04T16:16:39.7678167+02:00 0HNGRLHFFIS45:0000000F [INF] Request finished "HTTP/2" "POST" "https"://"localhost:7150""""/api/Admin/AddCity""" - 500 null "text/plain; charset=utf-8" 77.8843ms (74253ad3)
2025-11-04T16:17:08.3738876+02:00  [INF] User profile is available. Using '"C:\Users\ThatoTs\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2025-11-04T16:17:08.6231414+02:00  [INF] Now listening on: "https://localhost:7150" (d826f4b8)
2025-11-04T16:17:08.6250074+02:00  [INF] Now listening on: "http://localhost:5031" (d826f4b8)
2025-11-04T16:17:08.6733417+02:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2025-11-04T16:17:08.6752298+02:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2025-11-04T16:17:08.6766809+02:00  [INF] Content root path: "D:\HomeSpace\E_Prescribing_API\E_Prescribing_API" (cc26f24e)
2025-11-04T16:17:09.9343578+02:00 0HNGRLJBH4I43:00000003 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger""" - null null (d509f86a)
2025-11-04T16:17:10.1379250+02:00 0HNGRLJBH4I43:00000003 [INF] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed" (48071232)
2025-11-04T16:17:10.1417366+02:00 0HNGRLJBH4I43:00000003 [INF] "Identity.BearerAndApplication" was not authenticated. Failure message: "Unprotect ticket failed" (48071232)
2025-11-04T16:17:10.1565354+02:00 0HNGRLJBH4I43:00000003 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger""" - 301 0 null 231.6169ms (74253ad3)
2025-11-04T16:17:10.1653369+02:00 0HNGRLJBH4I43:00000005 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/index.html""" - null null (d509f86a)
2025-11-04T16:17:10.1765991+02:00 0HNGRLJBH4I43:00000005 [INF] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed" (48071232)
2025-11-04T16:17:10.1784369+02:00 0HNGRLJBH4I43:00000005 [INF] "Identity.BearerAndApplication" was not authenticated. Failure message: "Unprotect ticket failed" (48071232)
2025-11-04T16:17:10.2435426+02:00 0HNGRLJBH4I43:00000005 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 78.2944ms (74253ad3)
2025-11-04T16:17:10.2703282+02:00 0HNGRLJBH4I43:00000007 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/_vs/browserLink""" - null null (d509f86a)
2025-11-04T16:17:10.2711040+02:00 0HNGRLJBH4I43:00000009 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/_framework/aspnetcore-browser-refresh.js""" - null null (d509f86a)
2025-11-04T16:17:10.2822213+02:00 0HNGRLJBH4I43:00000009 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/_framework/aspnetcore-browser-refresh.js""" - 200 13770 "application/javascript; charset=utf-8" 11.3097ms (74253ad3)
2025-11-04T16:17:10.3322689+02:00 0HNGRLJBH4I43:00000007 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 62.2216ms (74253ad3)
2025-11-04T16:17:10.4066252+02:00 0HNGRLJBH4I43:0000000B [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/v1/swagger.json""" - null null (d509f86a)
2025-11-04T16:17:10.4095935+02:00 0HNGRLJBH4I43:0000000B [INF] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed" (48071232)
2025-11-04T16:17:10.4125018+02:00 0HNGRLJBH4I43:0000000B [INF] "Identity.BearerAndApplication" was not authenticated. Failure message: "Unprotect ticket failed" (48071232)
2025-11-04T16:17:10.5026527+02:00 0HNGRLJBH4I43:0000000B [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 96.5525ms (74253ad3)
2025-11-04T16:17:24.6261865+02:00 0HNGRLJBH4I43:0000000D [INF] Request starting "HTTP/2" "POST" "https"://"localhost:7150""""/api/Admin/AddCity""" - "application/json" 119 (d509f86a)
2025-11-04T16:17:24.6284278+02:00 0HNGRLJBH4I43:0000000D [INF] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed" (48071232)
2025-11-04T16:17:24.6310377+02:00 0HNGRLJBH4I43:0000000D [INF] "Identity.BearerAndApplication" was not authenticated. Failure message: "Unprotect ticket failed" (48071232)
2025-11-04T16:17:24.6358372+02:00 0HNGRLJBH4I43:0000000D [INF] Executing endpoint '"E_Prescribing_API.Controllers.AdminController.AddCity (E_Prescribing_API)"' (500cc934)
2025-11-04T16:17:24.6625628+02:00 0HNGRLJBH4I43:0000000D [INF] Route matched with "{action = \"AddCity\", controller = \"Admin\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddCity(E_Prescribing_API.Models.City)" on controller "E_Prescribing_API.Controllers.AdminController" ("E_Prescribing_API"). (122b2fdf)
2025-11-04T16:17:26.2626451+02:00 0HNGRLJBH4I43:0000000D [INF] Executed DbCommand ("42"ms) [Parameters=["@__ToLower_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[CityId], [c].[Name], [c].[ProvinceId]
FROM [Cities] AS [c]
WHERE LOWER([c].[Name]) = @__ToLower_0" (0723d8ff)
2025-11-04T16:17:26.3906739+02:00 0HNGRLJBH4I43:0000000D [INF] Executed DbCommand ("5"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Cities] ([Name], [ProvinceId])
OUTPUT INSERTED.[CityId]
VALUES (@p0, @p1);" (0723d8ff)
2025-11-04T16:17:26.4364573+02:00 0HNGRLJBH4I43:0000000D [ERR] An exception occurred in the database while saving changes for context type '"E_Prescribing_API.Data.Services.ApplicationDbContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_Cities_Provinces_ProvinceId\". The conflict occurred in database \"E_Prescribing_API\", table \"dbo.Provinces\", column 'ProvinceId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:30cdc465-d294-46ab-be88-5a1e1135e9b8
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)" (170f029e)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Cities_Provinces_ProvinceId". The conflict occurred in database "E_Prescribing_API", table "dbo.Provinces", column 'ProvinceId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:30cdc465-d294-46ab-be88-5a1e1135e9b8
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at E_Prescribing_API.Controllers.AdminController.AddCity(City model) in D:\HomeSpace\E_Prescribing_API\E_Prescribing_API\Controllers\AdminController.cs:line 74
2025-11-04T16:17:26.4807903+02:00 0HNGRLJBH4I43:0000000D [ERR] Error while adding province "string" (1811dc6e)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Cities_Provinces_ProvinceId". The conflict occurred in database "E_Prescribing_API", table "dbo.Provinces", column 'ProvinceId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:30cdc465-d294-46ab-be88-5a1e1135e9b8
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at E_Prescribing_API.Controllers.AdminController.AddCity(City model) in D:\HomeSpace\E_Prescribing_API\E_Prescribing_API\Controllers\AdminController.cs:line 74
2025-11-04T16:17:26.4859825+02:00 0HNGRLJBH4I43:0000000D [INF] Executing "ObjectResult", writing value of type '"System.String"'. (605b4265)
2025-11-04T16:17:26.4895565+02:00 0HNGRLJBH4I43:0000000D [INF] Executed action "E_Prescribing_API.Controllers.AdminController.AddCity (E_Prescribing_API)" in 1823.8069ms (afa2e885)
2025-11-04T16:17:26.4899577+02:00 0HNGRLJBH4I43:0000000D [INF] Executed endpoint '"E_Prescribing_API.Controllers.AdminController.AddCity (E_Prescribing_API)"' (99874f2b)
2025-11-04T16:17:26.4967068+02:00 0HNGRLJBH4I43:0000000D [INF] Request finished "HTTP/2" "POST" "https"://"localhost:7150""""/api/Admin/AddCity""" - 500 null "text/plain; charset=utf-8" 1870.9798ms (74253ad3)
2025-11-04T16:18:25.4248435+02:00  [INF] User profile is available. Using '"C:\Users\ThatoTs\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2025-11-04T16:18:25.6212407+02:00  [INF] Now listening on: "https://localhost:7150" (d826f4b8)
2025-11-04T16:18:25.6230161+02:00  [INF] Now listening on: "http://localhost:5031" (d826f4b8)
2025-11-04T16:18:25.6692959+02:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2025-11-04T16:18:25.6715766+02:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2025-11-04T16:18:25.6731146+02:00  [INF] Content root path: "D:\HomeSpace\E_Prescribing_API\E_Prescribing_API" (cc26f24e)
2025-11-04T16:18:26.5928401+02:00 0HNGRLK2FNUHL:00000003 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger""" - null null (d509f86a)
2025-11-04T16:18:26.8335069+02:00 0HNGRLK2FNUHL:00000003 [INF] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed" (48071232)
2025-11-04T16:18:26.8398768+02:00 0HNGRLK2FNUHL:00000003 [INF] "Identity.BearerAndApplication" was not authenticated. Failure message: "Unprotect ticket failed" (48071232)
2025-11-04T16:18:26.8664122+02:00 0HNGRLK2FNUHL:00000003 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger""" - 301 0 null 283.758ms (74253ad3)
2025-11-04T16:18:26.8776944+02:00 0HNGRLK2FNUHL:00000005 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/index.html""" - null null (d509f86a)
2025-11-04T16:18:26.8902911+02:00 0HNGRLK2FNUHL:00000005 [INF] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed" (48071232)
2025-11-04T16:18:26.8932642+02:00 0HNGRLK2FNUHL:00000005 [INF] "Identity.BearerAndApplication" was not authenticated. Failure message: "Unprotect ticket failed" (48071232)
2025-11-04T16:18:27.0189083+02:00 0HNGRLK2FNUHL:00000005 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 141.5375ms (74253ad3)
2025-11-04T16:18:27.0570975+02:00 0HNGRLK2FNUHL:00000007 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/_vs/browserLink""" - null null (d509f86a)
2025-11-04T16:18:27.0577731+02:00 0HNGRLK2FNUHL:00000009 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/_framework/aspnetcore-browser-refresh.js""" - null null (d509f86a)
2025-11-04T16:18:27.0734745+02:00 0HNGRLK2FNUHL:00000009 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/_framework/aspnetcore-browser-refresh.js""" - 200 13770 "application/javascript; charset=utf-8" 15.8704ms (74253ad3)
2025-11-04T16:18:27.1408167+02:00 0HNGRLK2FNUHL:00000007 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 83.7118ms (74253ad3)
2025-11-04T16:18:27.2932161+02:00 0HNGRLK2FNUHL:0000000B [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/v1/swagger.json""" - null null (d509f86a)
2025-11-04T16:18:27.2980366+02:00 0HNGRLK2FNUHL:0000000B [INF] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed" (48071232)
2025-11-04T16:18:27.3007029+02:00 0HNGRLK2FNUHL:0000000B [INF] "Identity.BearerAndApplication" was not authenticated. Failure message: "Unprotect ticket failed" (48071232)
2025-11-04T16:18:27.4866424+02:00 0HNGRLK2FNUHL:0000000B [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 193.7945ms (74253ad3)
2025-11-04T16:18:41.8147362+02:00 0HNGRLK2FNUHL:0000000D [INF] Request starting "HTTP/2" "POST" "https"://"localhost:7150""""/api/Admin/AddCity""" - "application/json" 125 (d509f86a)
2025-11-04T16:18:41.8163639+02:00 0HNGRLK2FNUHL:0000000D [INF] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed" (48071232)
2025-11-04T16:18:41.8180150+02:00 0HNGRLK2FNUHL:0000000D [INF] "Identity.BearerAndApplication" was not authenticated. Failure message: "Unprotect ticket failed" (48071232)
2025-11-04T16:18:41.8228250+02:00 0HNGRLK2FNUHL:0000000D [INF] Executing endpoint '"E_Prescribing_API.Controllers.AdminController.AddCity (E_Prescribing_API)"' (500cc934)
2025-11-04T16:18:41.8456768+02:00 0HNGRLK2FNUHL:0000000D [INF] Route matched with "{action = \"AddCity\", controller = \"Admin\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddCity(E_Prescribing_API.Models.City)" on controller "E_Prescribing_API.Controllers.AdminController" ("E_Prescribing_API"). (122b2fdf)
2025-11-04T16:18:43.4135444+02:00 0HNGRLK2FNUHL:0000000D [INF] Executed DbCommand ("31"ms) [Parameters=["@__model_Name_0='?' (Size = 4000), @__model_CityId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Name] = @__model_Name_0 AND [c].[CityId] <> @__model_CityId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END" (0723d8ff)
2025-11-04T16:18:43.5792103+02:00 0HNGRLK2FNUHL:0000000D [INF] Executed DbCommand ("23"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Cities] ([Name], [ProvinceId])
OUTPUT INSERTED.[CityId]
VALUES (@p0, @p1);" (0723d8ff)
2025-11-04T16:18:43.6365306+02:00 0HNGRLK2FNUHL:0000000D [ERR] An exception occurred in the database while saving changes for context type '"E_Prescribing_API.Data.Services.ApplicationDbContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_Cities_Provinces_ProvinceId\". The conflict occurred in database \"E_Prescribing_API\", table \"dbo.Provinces\", column 'ProvinceId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:78982b2d-6394-47b8-b3ed-5dcce0ce3ee4
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)" (170f029e)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Cities_Provinces_ProvinceId". The conflict occurred in database "E_Prescribing_API", table "dbo.Provinces", column 'ProvinceId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:78982b2d-6394-47b8-b3ed-5dcce0ce3ee4
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-11-04T16:18:43.6858314+02:00 0HNGRLK2FNUHL:0000000D [ERR] Error while adding province "Johannesburg" (1811dc6e)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Cities_Provinces_ProvinceId". The conflict occurred in database "E_Prescribing_API", table "dbo.Provinces", column 'ProvinceId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:78982b2d-6394-47b8-b3ed-5dcce0ce3ee4
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at E_Prescribing_API.Controllers.AdminController.AddCity(City model) in D:\HomeSpace\E_Prescribing_API\E_Prescribing_API\Controllers\AdminController.cs:line 75
2025-11-04T16:18:43.6902570+02:00 0HNGRLK2FNUHL:0000000D [INF] Executing "ObjectResult", writing value of type '"System.String"'. (605b4265)
2025-11-04T16:18:43.6936192+02:00 0HNGRLK2FNUHL:0000000D [INF] Executed action "E_Prescribing_API.Controllers.AdminController.AddCity (E_Prescribing_API)" in 1845.1612ms (afa2e885)
2025-11-04T16:18:43.6939477+02:00 0HNGRLK2FNUHL:0000000D [INF] Executed endpoint '"E_Prescribing_API.Controllers.AdminController.AddCity (E_Prescribing_API)"' (99874f2b)
2025-11-04T16:18:43.7024943+02:00 0HNGRLK2FNUHL:0000000D [INF] Request finished "HTTP/2" "POST" "https"://"localhost:7150""""/api/Admin/AddCity""" - 500 null "text/plain; charset=utf-8" 1888.2388ms (74253ad3)
2025-11-04T16:18:50.9605817+02:00 0HNGRLK2FNUHL:0000000F [INF] Request starting "HTTP/2" "POST" "https"://"localhost:7150""""/api/Admin/AddCity""" - "application/json" 125 (d509f86a)
2025-11-04T16:18:50.9630927+02:00 0HNGRLK2FNUHL:0000000F [INF] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed" (48071232)
2025-11-04T16:18:50.9675018+02:00 0HNGRLK2FNUHL:0000000F [INF] "Identity.BearerAndApplication" was not authenticated. Failure message: "Unprotect ticket failed" (48071232)
2025-11-04T16:18:50.9680491+02:00 0HNGRLK2FNUHL:0000000F [INF] Executing endpoint '"E_Prescribing_API.Controllers.AdminController.AddCity (E_Prescribing_API)"' (500cc934)
2025-11-04T16:18:50.9686489+02:00 0HNGRLK2FNUHL:0000000F [INF] Route matched with "{action = \"AddCity\", controller = \"Admin\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddCity(E_Prescribing_API.Models.City)" on controller "E_Prescribing_API.Controllers.AdminController" ("E_Prescribing_API"). (122b2fdf)
2025-11-04T16:18:50.9934758+02:00 0HNGRLK2FNUHL:0000000F [INF] Executed DbCommand ("1"ms) [Parameters=["@__model_Name_0='?' (Size = 4000), @__model_CityId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Name] = @__model_Name_0 AND [c].[CityId] <> @__model_CityId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END" (0723d8ff)
2025-11-04T16:18:51.0040950+02:00 0HNGRLK2FNUHL:0000000F [INF] Executed DbCommand ("4"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Cities] ([Name], [ProvinceId])
OUTPUT INSERTED.[CityId]
VALUES (@p0, @p1);" (0723d8ff)
2025-11-04T16:18:51.0234509+02:00 0HNGRLK2FNUHL:0000000F [INF] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (605b4265)
2025-11-04T16:18:51.0254501+02:00 0HNGRLK2FNUHL:0000000F [INF] Executed action "E_Prescribing_API.Controllers.AdminController.AddCity (E_Prescribing_API)" in 56.6827ms (afa2e885)
2025-11-04T16:18:51.0255041+02:00 0HNGRLK2FNUHL:0000000F [INF] Executed endpoint '"E_Prescribing_API.Controllers.AdminController.AddCity (E_Prescribing_API)"' (99874f2b)
2025-11-04T16:18:51.0257330+02:00 0HNGRLK2FNUHL:0000000F [INF] Request finished "HTTP/2" "POST" "https"://"localhost:7150""""/api/Admin/AddCity""" - 200 null "application/json; charset=utf-8" 65.6971ms (74253ad3)
2025-11-04T16:18:56.2857652+02:00 0HNGRLK2FNUHL:00000011 [INF] Request starting "HTTP/2" "POST" "https"://"localhost:7150""""/api/Admin/AddCity""" - "application/json" 125 (d509f86a)
2025-11-04T16:18:56.2865727+02:00 0HNGRLK2FNUHL:00000011 [INF] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed" (48071232)
2025-11-04T16:18:56.2916572+02:00 0HNGRLK2FNUHL:00000011 [INF] "Identity.BearerAndApplication" was not authenticated. Failure message: "Unprotect ticket failed" (48071232)
2025-11-04T16:18:56.2918654+02:00 0HNGRLK2FNUHL:00000011 [INF] Executing endpoint '"E_Prescribing_API.Controllers.AdminController.AddCity (E_Prescribing_API)"' (500cc934)
2025-11-04T16:18:56.2919763+02:00 0HNGRLK2FNUHL:00000011 [INF] Route matched with "{action = \"AddCity\", controller = \"Admin\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddCity(E_Prescribing_API.Models.City)" on controller "E_Prescribing_API.Controllers.AdminController" ("E_Prescribing_API"). (122b2fdf)
2025-11-04T16:18:56.3651957+02:00 0HNGRLK2FNUHL:00000011 [INF] Executed DbCommand ("15"ms) [Parameters=["@__model_Name_0='?' (Size = 4000), @__model_CityId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Name] = @__model_Name_0 AND [c].[CityId] <> @__model_CityId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END" (0723d8ff)
2025-11-04T16:18:56.3656942+02:00 0HNGRLK2FNUHL:00000011 [INF] Executing "BadRequestObjectResult", writing value of type '"System.String"'. (605b4265)
2025-11-04T16:18:56.3658367+02:00 0HNGRLK2FNUHL:00000011 [INF] Executed action "E_Prescribing_API.Controllers.AdminController.AddCity (E_Prescribing_API)" in 73.8221ms (afa2e885)
2025-11-04T16:18:56.3658668+02:00 0HNGRLK2FNUHL:00000011 [INF] Executed endpoint '"E_Prescribing_API.Controllers.AdminController.AddCity (E_Prescribing_API)"' (99874f2b)
2025-11-04T16:18:56.3660167+02:00 0HNGRLK2FNUHL:00000011 [INF] Request finished "HTTP/2" "POST" "https"://"localhost:7150""""/api/Admin/AddCity""" - 400 null "text/plain; charset=utf-8" 80.3079ms (74253ad3)
2025-11-04T16:19:39.0674344+02:00 0HNGRLK2FNUHL:00000013 [INF] Request starting "HTTP/2" "POST" "https"://"localhost:7150""""/api/Admin/AddCity""" - "application/json" 125 (d509f86a)
2025-11-04T16:19:39.0680158+02:00 0HNGRLK2FNUHL:00000013 [INF] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed" (48071232)
2025-11-04T16:19:39.0703891+02:00 0HNGRLK2FNUHL:00000013 [INF] "Identity.BearerAndApplication" was not authenticated. Failure message: "Unprotect ticket failed" (48071232)
2025-11-04T16:19:39.0705281+02:00 0HNGRLK2FNUHL:00000013 [INF] Executing endpoint '"E_Prescribing_API.Controllers.AdminController.AddCity (E_Prescribing_API)"' (500cc934)
2025-11-04T16:19:39.0706366+02:00 0HNGRLK2FNUHL:00000013 [INF] Route matched with "{action = \"AddCity\", controller = \"Admin\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddCity(E_Prescribing_API.Models.City)" on controller "E_Prescribing_API.Controllers.AdminController" ("E_Prescribing_API"). (122b2fdf)
2025-11-04T16:19:39.0809866+02:00 0HNGRLK2FNUHL:00000013 [INF] Executed DbCommand ("6"ms) [Parameters=["@__model_Name_0='?' (Size = 4000), @__model_CityId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Name] = @__model_Name_0 AND [c].[CityId] <> @__model_CityId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END" (0723d8ff)
2025-11-04T16:19:39.0813003+02:00 0HNGRLK2FNUHL:00000013 [INF] Executing "BadRequestObjectResult", writing value of type '"System.String"'. (605b4265)
2025-11-04T16:19:39.0814756+02:00 0HNGRLK2FNUHL:00000013 [INF] Executed action "E_Prescribing_API.Controllers.AdminController.AddCity (E_Prescribing_API)" in 10.7828ms (afa2e885)
2025-11-04T16:19:39.0815082+02:00 0HNGRLK2FNUHL:00000013 [INF] Executed endpoint '"E_Prescribing_API.Controllers.AdminController.AddCity (E_Prescribing_API)"' (99874f2b)
2025-11-04T16:19:39.0816390+02:00 0HNGRLK2FNUHL:00000013 [INF] Request finished "HTTP/2" "POST" "https"://"localhost:7150""""/api/Admin/AddCity""" - 400 null "text/plain; charset=utf-8" 14.5271ms (74253ad3)
2025-11-04T16:27:30.2753062+02:00  [INF] User profile is available. Using '"C:\Users\ThatoTs\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2025-11-04T16:27:30.5015414+02:00  [INF] Now listening on: "https://localhost:7150" (d826f4b8)
2025-11-04T16:27:30.5046263+02:00  [INF] Now listening on: "http://localhost:5031" (d826f4b8)
2025-11-04T16:27:30.5574766+02:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2025-11-04T16:27:30.5599878+02:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2025-11-04T16:27:30.5613103+02:00  [INF] Content root path: "D:\HomeSpace\E_Prescribing_API\E_Prescribing_API" (cc26f24e)
2025-11-04T16:27:32.1007764+02:00 0HNGRLP4SFT4N:00000003 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger""" - null null (d509f86a)
2025-11-04T16:27:32.2670787+02:00 0HNGRLP4SFT4N:00000003 [INF] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed" (48071232)
2025-11-04T16:27:32.2710568+02:00 0HNGRLP4SFT4N:00000003 [INF] "Identity.BearerAndApplication" was not authenticated. Failure message: "Unprotect ticket failed" (48071232)
2025-11-04T16:27:32.2871972+02:00 0HNGRLP4SFT4N:00000003 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger""" - 301 0 null 191.2377ms (74253ad3)
2025-11-04T16:27:32.2968371+02:00 0HNGRLP4SFT4N:00000005 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/index.html""" - null null (d509f86a)
2025-11-04T16:27:32.3086549+02:00 0HNGRLP4SFT4N:00000005 [INF] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed" (48071232)
2025-11-04T16:27:32.3108209+02:00 0HNGRLP4SFT4N:00000005 [INF] "Identity.BearerAndApplication" was not authenticated. Failure message: "Unprotect ticket failed" (48071232)
2025-11-04T16:27:32.3686753+02:00 0HNGRLP4SFT4N:00000005 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 71.9782ms (74253ad3)
2025-11-04T16:27:32.3879426+02:00 0HNGRLP4SFT4N:00000007 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/_vs/browserLink""" - null null (d509f86a)
2025-11-04T16:27:32.3885113+02:00 0HNGRLP4SFT4N:00000009 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/_framework/aspnetcore-browser-refresh.js""" - null null (d509f86a)
2025-11-04T16:27:32.3993521+02:00 0HNGRLP4SFT4N:00000009 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/_framework/aspnetcore-browser-refresh.js""" - 200 13770 "application/javascript; charset=utf-8" 11.0649ms (74253ad3)
2025-11-04T16:27:32.4420255+02:00 0HNGRLP4SFT4N:00000007 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 54.1156ms (74253ad3)
2025-11-04T16:27:32.5210906+02:00 0HNGRLP4SFT4N:0000000B [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/v1/swagger.json""" - null null (d509f86a)
2025-11-04T16:27:32.5231664+02:00 0HNGRLP4SFT4N:0000000B [INF] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed" (48071232)
2025-11-04T16:27:32.5264325+02:00 0HNGRLP4SFT4N:0000000B [INF] "Identity.BearerAndApplication" was not authenticated. Failure message: "Unprotect ticket failed" (48071232)
2025-11-04T16:27:32.6564640+02:00 0HNGRLP4SFT4N:0000000B [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 135.5413ms (74253ad3)
2025-11-04T16:28:17.2874857+02:00 0HNGRLP4SFT4N:0000000D [INF] Request starting "HTTP/2" "POST" "https"://"localhost:7150""""/api/Admin/AddSuburb""" - "application/json" 224 (d509f86a)
2025-11-04T16:28:17.2892851+02:00 0HNGRLP4SFT4N:0000000D [INF] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed" (48071232)
2025-11-04T16:28:17.2923291+02:00 0HNGRLP4SFT4N:0000000D [INF] "Identity.BearerAndApplication" was not authenticated. Failure message: "Unprotect ticket failed" (48071232)
2025-11-04T16:28:17.3191823+02:00 0HNGRLP4SFT4N:0000000D [INF] Executing endpoint '"E_Prescribing_API.Controllers.AdminController.AddSuburb (E_Prescribing_API)"' (500cc934)
2025-11-04T16:28:17.3452371+02:00 0HNGRLP4SFT4N:0000000D [INF] Route matched with "{action = \"AddSuburb\", controller = \"Admin\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddSuburb(E_Prescribing_API.Models.Suburb)" on controller "E_Prescribing_API.Controllers.AdminController" ("E_Prescribing_API"). (122b2fdf)
2025-11-04T16:28:19.0939008+02:00 0HNGRLP4SFT4N:0000000D [INF] Executed DbCommand ("58"ms) [Parameters=["@__model_Name_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Suburbs] AS [s]
        WHERE [s].[Name] = @__model_Name_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END" (0723d8ff)
2025-11-04T16:28:19.2539985+02:00 0HNGRLP4SFT4N:0000000D [INF] Executed DbCommand ("8"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Suburbs] ([CityId], [Name], [PostalCode])
OUTPUT INSERTED.[SuburbId]
VALUES (@p0, @p1, @p2);" (0723d8ff)
2025-11-04T16:28:19.3056737+02:00 0HNGRLP4SFT4N:0000000D [ERR] An exception occurred in the database while saving changes for context type '"E_Prescribing_API.Data.Services.ApplicationDbContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_Suburbs_Cities_CityId\". The conflict occurred in database \"E_Prescribing_API\", table \"dbo.Cities\", column 'CityId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:9bd980a9-540e-4d82-bf4a-e54f5eb2e473
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)" (170f029e)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Suburbs_Cities_CityId". The conflict occurred in database "E_Prescribing_API", table "dbo.Cities", column 'CityId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:9bd980a9-540e-4d82-bf4a-e54f5eb2e473
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at E_Prescribing_API.Controllers.AdminController.AddSuburb(Suburb model) in D:\HomeSpace\E_Prescribing_API\E_Prescribing_API\Controllers\AdminController.cs:line 113
2025-11-04T16:28:19.3530496+02:00 0HNGRLP4SFT4N:0000000D [ERR] Error while adding suburb "Tembisa" (edb99a9a)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Suburbs_Cities_CityId". The conflict occurred in database "E_Prescribing_API", table "dbo.Cities", column 'CityId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:9bd980a9-540e-4d82-bf4a-e54f5eb2e473
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at E_Prescribing_API.Controllers.AdminController.AddSuburb(Suburb model) in D:\HomeSpace\E_Prescribing_API\E_Prescribing_API\Controllers\AdminController.cs:line 113
2025-11-04T16:28:19.3582592+02:00 0HNGRLP4SFT4N:0000000D [INF] Executing "ObjectResult", writing value of type '"System.String"'. (605b4265)
2025-11-04T16:28:19.3663998+02:00 0HNGRLP4SFT4N:0000000D [INF] Executed action "E_Prescribing_API.Controllers.AdminController.AddSuburb (E_Prescribing_API)" in 2016.0715ms (afa2e885)
2025-11-04T16:28:19.3668858+02:00 0HNGRLP4SFT4N:0000000D [INF] Executed endpoint '"E_Prescribing_API.Controllers.AdminController.AddSuburb (E_Prescribing_API)"' (99874f2b)
2025-11-04T16:28:19.3745166+02:00 0HNGRLP4SFT4N:0000000D [INF] Request finished "HTTP/2" "POST" "https"://"localhost:7150""""/api/Admin/AddSuburb""" - 500 null "text/plain; charset=utf-8" 2087.1091ms (74253ad3)
2025-11-04T16:28:45.8950228+02:00 0HNGRLP4SFT4N:0000000F [INF] Request starting "HTTP/2" "POST" "https"://"localhost:7150""""/api/Admin/AddSuburb""" - "application/json" 224 (d509f86a)
2025-11-04T16:28:45.8975611+02:00 0HNGRLP4SFT4N:0000000F [INF] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed" (48071232)
2025-11-04T16:28:45.8998626+02:00 0HNGRLP4SFT4N:0000000F [INF] "Identity.BearerAndApplication" was not authenticated. Failure message: "Unprotect ticket failed" (48071232)
2025-11-04T16:28:45.9002349+02:00 0HNGRLP4SFT4N:0000000F [INF] Executing endpoint '"E_Prescribing_API.Controllers.AdminController.AddSuburb (E_Prescribing_API)"' (500cc934)
2025-11-04T16:28:45.9006740+02:00 0HNGRLP4SFT4N:0000000F [INF] Route matched with "{action = \"AddSuburb\", controller = \"Admin\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddSuburb(E_Prescribing_API.Models.Suburb)" on controller "E_Prescribing_API.Controllers.AdminController" ("E_Prescribing_API"). (122b2fdf)
2025-11-04T16:28:45.9391319+02:00 0HNGRLP4SFT4N:0000000F [INF] Executed DbCommand ("4"ms) [Parameters=["@__model_Name_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Suburbs] AS [s]
        WHERE [s].[Name] = @__model_Name_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END" (0723d8ff)
2025-11-04T16:28:45.9488430+02:00 0HNGRLP4SFT4N:0000000F [INF] Executed DbCommand ("4"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Suburbs] ([CityId], [Name], [PostalCode])
OUTPUT INSERTED.[SuburbId]
VALUES (@p0, @p1, @p2);" (0723d8ff)
2025-11-04T16:28:45.9705310+02:00 0HNGRLP4SFT4N:0000000F [INF] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (605b4265)
2025-11-04T16:28:45.9738213+02:00 0HNGRLP4SFT4N:0000000F [INF] Executed action "E_Prescribing_API.Controllers.AdminController.AddSuburb (E_Prescribing_API)" in 73.0338ms (afa2e885)
2025-11-04T16:28:45.9738696+02:00 0HNGRLP4SFT4N:0000000F [INF] Executed endpoint '"E_Prescribing_API.Controllers.AdminController.AddSuburb (E_Prescribing_API)"' (99874f2b)
2025-11-04T16:28:45.9740350+02:00 0HNGRLP4SFT4N:0000000F [INF] Request finished "HTTP/2" "POST" "https"://"localhost:7150""""/api/Admin/AddSuburb""" - 200 null "application/json; charset=utf-8" 79.4459ms (74253ad3)
2025-11-04T16:28:53.9643377+02:00 0HNGRLP4SFT4N:00000011 [INF] Request starting "HTTP/2" "POST" "https"://"localhost:7150""""/api/Admin/AddSuburb""" - "application/json" 224 (d509f86a)
2025-11-04T16:28:53.9652869+02:00 0HNGRLP4SFT4N:00000011 [INF] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed" (48071232)
2025-11-04T16:28:53.9679321+02:00 0HNGRLP4SFT4N:00000011 [INF] "Identity.BearerAndApplication" was not authenticated. Failure message: "Unprotect ticket failed" (48071232)
2025-11-04T16:28:53.9680767+02:00 0HNGRLP4SFT4N:00000011 [INF] Executing endpoint '"E_Prescribing_API.Controllers.AdminController.AddSuburb (E_Prescribing_API)"' (500cc934)
2025-11-04T16:28:53.9681851+02:00 0HNGRLP4SFT4N:00000011 [INF] Route matched with "{action = \"AddSuburb\", controller = \"Admin\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddSuburb(E_Prescribing_API.Models.Suburb)" on controller "E_Prescribing_API.Controllers.AdminController" ("E_Prescribing_API"). (122b2fdf)
2025-11-04T16:28:54.0428593+02:00 0HNGRLP4SFT4N:00000011 [INF] Executed DbCommand ("9"ms) [Parameters=["@__model_Name_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Suburbs] AS [s]
        WHERE [s].[Name] = @__model_Name_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END" (0723d8ff)
2025-11-04T16:28:54.0435849+02:00 0HNGRLP4SFT4N:00000011 [INF] Executing "BadRequestObjectResult", writing value of type '"System.String"'. (605b4265)
2025-11-04T16:28:54.0437442+02:00 0HNGRLP4SFT4N:00000011 [INF] Executed action "E_Prescribing_API.Controllers.AdminController.AddSuburb (E_Prescribing_API)" in 75.5027ms (afa2e885)
2025-11-04T16:28:54.0437751+02:00 0HNGRLP4SFT4N:00000011 [INF] Executed endpoint '"E_Prescribing_API.Controllers.AdminController.AddSuburb (E_Prescribing_API)"' (99874f2b)
2025-11-04T16:28:54.0439478+02:00 0HNGRLP4SFT4N:00000011 [INF] Request finished "HTTP/2" "POST" "https"://"localhost:7150""""/api/Admin/AddSuburb""" - 400 null "text/plain; charset=utf-8" 79.9528ms (74253ad3)
2025-11-04T16:44:16.8381358+02:00  [INF] Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2025-11-04T16:44:16.8569303+02:00  [INF] Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2025-11-04T16:44:16.8588468+02:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2025-11-04T16:44:16.8598296+02:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2025-11-04T16:44:16.8686008+02:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];" (0723d8ff)
2025-11-04T16:44:16.8773739+02:00  [INF] Applying migration '"20251104144403_addFacility"'. (0e2ac64d)
2025-11-04T16:44:16.9199251+02:00  [INF] Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [FacilitiesTypes] (
    [FacilityTypeId] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_FacilitiesTypes] PRIMARY KEY ([FacilityTypeId])
);" (0723d8ff)
2025-11-04T16:44:16.9273355+02:00  [INF] Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [Facilities] (
    [FacilityId] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    [AddressLine1] nvarchar(max) NOT NULL,
    [AddressLine2] nvarchar(max) NOT NULL,
    [ContactNumber] nvarchar(max) NOT NULL,
    [SuburbId] int NOT NULL,
    [FacilityTypeId] int NOT NULL,
    CONSTRAINT [PK_Facilities] PRIMARY KEY ([FacilityId]),
    CONSTRAINT [FK_Facilities_FacilitiesTypes_FacilityTypeId] FOREIGN KEY ([FacilityTypeId]) REFERENCES [FacilitiesTypes] ([FacilityTypeId]) ON DELETE CASCADE,
    CONSTRAINT [FK_Facilities_Suburbs_SuburbId] FOREIGN KEY ([SuburbId]) REFERENCES [Suburbs] ([SuburbId]) ON DELETE CASCADE
);" (0723d8ff)
2025-11-04T16:44:16.9358452+02:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Facilities_FacilityTypeId] ON [Facilities] ([FacilityTypeId]);" (0723d8ff)
2025-11-04T16:44:16.9388972+02:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Facilities_SuburbId] ON [Facilities] ([SuburbId]);" (0723d8ff)
2025-11-04T16:44:16.9419138+02:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251104144403_addFacility', N'8.0.0');" (0723d8ff)
2025-11-04T16:45:30.8050895+02:00  [INF] User profile is available. Using '"C:\Users\ThatoTs\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2025-11-04T16:45:31.0551907+02:00  [INF] Now listening on: "https://localhost:7150" (d826f4b8)
2025-11-04T16:45:31.0565267+02:00  [INF] Now listening on: "http://localhost:5031" (d826f4b8)
2025-11-04T16:45:31.0961205+02:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2025-11-04T16:45:31.0984510+02:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2025-11-04T16:45:31.1001263+02:00  [INF] Content root path: "D:\HomeSpace\E_Prescribing_API\E_Prescribing_API" (cc26f24e)
2025-11-04T16:45:32.4452873+02:00 0HNGRM36RFPOH:00000003 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger""" - null null (d509f86a)
2025-11-04T16:45:32.6342847+02:00 0HNGRM36RFPOH:00000003 [INF] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed" (48071232)
2025-11-04T16:45:32.6384756+02:00 0HNGRM36RFPOH:00000003 [INF] "Identity.BearerAndApplication" was not authenticated. Failure message: "Unprotect ticket failed" (48071232)
2025-11-04T16:45:32.6587674+02:00 0HNGRM36RFPOH:00000003 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger""" - 301 0 null 222.2362ms (74253ad3)
2025-11-04T16:45:32.6686843+02:00 0HNGRM36RFPOH:00000005 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/index.html""" - null null (d509f86a)
2025-11-04T16:45:32.6770008+02:00 0HNGRM36RFPOH:00000005 [INF] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed" (48071232)
2025-11-04T16:45:32.6795649+02:00 0HNGRM36RFPOH:00000005 [INF] "Identity.BearerAndApplication" was not authenticated. Failure message: "Unprotect ticket failed" (48071232)
2025-11-04T16:45:32.7436016+02:00 0HNGRM36RFPOH:00000005 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 74.9921ms (74253ad3)
2025-11-04T16:45:32.7790565+02:00 0HNGRM36RFPOH:00000007 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/_vs/browserLink""" - null null (d509f86a)
2025-11-04T16:45:32.7802382+02:00 0HNGRM36RFPOH:00000009 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/_framework/aspnetcore-browser-refresh.js""" - null null (d509f86a)
2025-11-04T16:45:32.8229640+02:00 0HNGRM36RFPOH:00000009 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/_framework/aspnetcore-browser-refresh.js""" - 200 13770 "application/javascript; charset=utf-8" 37.2671ms (74253ad3)
2025-11-04T16:45:32.8940529+02:00 0HNGRM36RFPOH:00000007 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 115.4832ms (74253ad3)
2025-11-04T16:45:33.0352795+02:00 0HNGRM36RFPOH:0000000B [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/v1/swagger.json""" - null null (d509f86a)
2025-11-04T16:45:33.0390917+02:00 0HNGRM36RFPOH:0000000B [INF] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed" (48071232)
2025-11-04T16:45:33.0491422+02:00 0HNGRM36RFPOH:0000000B [INF] "Identity.BearerAndApplication" was not authenticated. Failure message: "Unprotect ticket failed" (48071232)
2025-11-04T16:45:33.2108202+02:00 0HNGRM36RFPOH:0000000B [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7150""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 176.0242ms (74253ad3)
2025-11-04T16:46:35.0808380+02:00 0HNGRM36RFPOH:0000000D [INF] Request starting "HTTP/2" "POST" "https"://"localhost:7150""""/api/Admin/AddFacility""" - "application/json" 499 (d509f86a)
2025-11-04T16:46:35.0893023+02:00 0HNGRM36RFPOH:0000000D [INF] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed" (48071232)
2025-11-04T16:46:35.0934509+02:00 0HNGRM36RFPOH:0000000D [INF] "Identity.BearerAndApplication" was not authenticated. Failure message: "Unprotect ticket failed" (48071232)
2025-11-04T16:46:35.0976430+02:00 0HNGRM36RFPOH:0000000D [INF] Executing endpoint '"E_Prescribing_API.Controllers.AdminController.AddFacility (E_Prescribing_API)"' (500cc934)
2025-11-04T16:46:35.1268664+02:00 0HNGRM36RFPOH:0000000D [INF] Route matched with "{action = \"AddFacility\", controller = \"Admin\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddFacility(E_Prescribing_API.Models.Facility)" on controller "E_Prescribing_API.Controllers.AdminController" ("E_Prescribing_API"). (122b2fdf)
2025-11-04T16:46:36.8859789+02:00 0HNGRM36RFPOH:0000000D [INF] Executed DbCommand ("58"ms) [Parameters=["@__model_Name_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Facilities] AS [f]
        WHERE [f].[Name] = @__model_Name_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END" (0723d8ff)
2025-11-04T16:46:37.0642185+02:00 0HNGRM36RFPOH:0000000D [INF] Executed DbCommand ("10"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Facilities] ([AddressLine1], [AddressLine2], [ContactNumber], [FacilityTypeId], [Name], [SuburbId])
OUTPUT INSERTED.[FacilityId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);" (0723d8ff)
2025-11-04T16:46:37.0941122+02:00 0HNGRM36RFPOH:0000000D [INF] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (605b4265)
2025-11-04T16:46:37.1012429+02:00 0HNGRM36RFPOH:0000000D [INF] Executed action "E_Prescribing_API.Controllers.AdminController.AddFacility (E_Prescribing_API)" in 1969.8983ms (afa2e885)
2025-11-04T16:46:37.1017993+02:00 0HNGRM36RFPOH:0000000D [INF] Executed endpoint '"E_Prescribing_API.Controllers.AdminController.AddFacility (E_Prescribing_API)"' (99874f2b)
2025-11-04T16:46:37.1098655+02:00 0HNGRM36RFPOH:0000000D [INF] Request finished "HTTP/2" "POST" "https"://"localhost:7150""""/api/Admin/AddFacility""" - 200 null "application/json; charset=utf-8" 2029.2852ms (74253ad3)
